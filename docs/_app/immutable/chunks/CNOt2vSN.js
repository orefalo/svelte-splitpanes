import{p as je,a as _,c as mt,w as _e,s as ht,o as qe,b as We,d as St,l as te,e as Ue,i as Ye,f as De,g as ye,h as Je,j as Xe,t as we,k as pe,m as Ze,n as Qe,q as $e,r as et,u as zt,v as u,x as vt,y as Me,z as tt,A as X,B as R,C as O,D as be,E as nt,F as ne,G as xt,H as Pt,I as gt,J as Ke,K as $,L as ee}from"./CtqsOppj.js";function fe(d){if(!(d!=null&&d.endsWith("px")))return;const l=parseFloat(d.slice(0,d.length-2));return isNaN(l)?void 0:l}const it=d=>d?"height":"width",Ee=d=>window.getComputedStyle(d),Re=d=>d.getBoundingClientRect(),_t=(d,l=!0)=>{if(d.getPropertyValue("box-sizing")==="border-box")return;const h=fe(d.getPropertyValue("border-left-width"));if(h===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const S=fe(d.getPropertyValue("border-top-width"));if(S===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const x={left:h,top:S};if(l){const D=fe(d.getPropertyValue("border-right-width"));if(D===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const W=fe(d.getPropertyValue("border-bottom-width"));if(W===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const P=x;P.right=D,P.bottom=W}return x};function yt(d,l){l||(l=Ee(d));const h=Re(d),S=_t(l,!0)||{left:0,top:0,right:0,bottom:0};return{width:h.width-S.left-S.right,height:h.height-S.top-S.bottom,left:h.left+S.left,top:h.top+S.top}}const Te=(d,l)=>({left:d.left-l.left,top:d.top-l.top});function Ge(d){const l=d,h=d,{clientX:S,clientY:x}="ontouchstart"in window&&h.touches?h.touches[0]:l;return{left:S,top:x}}function He(d,l,h,S){let x=0;for(let D=l;D<h;D++)x+=S(d[D],D);return x}function ue(d,l,h,S){for(let x=l;x<h;x++)S(d[x],x)}const st={},Ve=(()=>{let d=!1;try{const l=Object.defineProperty({},"passive",{get(){return d={passive:!0},!0}});window.addEventListener("testpassive",l,l),window.remove("testpassive",l,l)}catch{}return d})();var wt=De("<div><!> <!></div>");function kt(d,l){je(l,!1);const[h,S]=Qe(),x=()=>ne(z,"$isHorizontal",h),D=()=>ne(B,"$veryFirstPaneKey",h);let W=_(l,"id",8,void 0),P=_(l,"horizontal",8,!1),U=_(l,"pushOtherPanes",8,!0),me=_(l,"dblClickSplitter",8,!0),ie=_(l,"rtl",8,"auto"),k=_(l,"firstSplitter",8,!1),he=_(l,"style",8,null),Se=_(l,"theme",8,"default-theme"),ze=_(l,"class",8,"");const v=mt();let A=O(),K=!1,Z=!1,se=O(!1),N=O(!1),H=O(!1),L=-1,M=-1,V,i=new Array;const z=_e(P()),oe=_e(k()),B=_e(void 0);let j,ae;ht(st,{showFirstSplitter:oe,veryFirstPaneKey:B,isHorizontal:z,ssrRegisterPaneSize:void 0,onPaneInit:e=>(D()===void 0&&X(B,e),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:T,onPaneRemove:re}});function T(e){let n=-1;e.element.parentNode&&Array.from(e.element.parentNode.children).some(t=>(t.className.includes("splitpanes__pane")&&n++,t===e.element)),n===0&&X(B,e.key),i.splice(n,0,e);for(let t=0;t<i.length;t++)i[t].index=t;K&&ge().then(()=>{e.isReady=!0,v("pane-add",{index:n,panes:J()})});const o=(t,c=!0)=>r=>{(c||e.index>0)&&t(r,e)};return{onSplitterDown:o(Pe,!1),onSplitterClick:o(w,!1),onSplitterDblClick:o(ke),onPaneClick:o(ve),reportGivenSizeChange:o(G)}}async function re(e){const n=i.findIndex(o=>o.key===e);if(n>=0){const o=i.splice(n,1)[0];for(let t=0;t<i.length;t++)i[t].index=t;n===0&&X(B,i.length>0?i[0].key:void 0),K&&(await ge(),v("pane-remove",{removed:o,panes:J()}))}}function ve(e,n){v("pane-click",n)}function G(e,n){n.setSz(e),ge()}qe(()=>{Le(),Ae();for(let e=0;e<i.length;e++)i[e].isReady=!0;K=!0,v("ready"),setTimeout(()=>{R(se,!0)},0)}),We(()=>{K&&I(),K=!1}),St(()=>{Le()});function le(e){if(ie()==="auto")try{return(e??Ee(u(A))).direction==="rtl"}catch{}return ie()===!0}function xe(){document.body.style.cursor=x()?"col-resize":"row-resize",document.addEventListener("mousemove",Y,Ve),document.addEventListener("mouseup",b),"ontouchstart"in window&&(document.addEventListener("touchmove",Y,Ve),document.addEventListener("touchend",b))}function I(){document.body.style.cursor="",document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",b),"ontouchstart"in window&&(document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",b))}const y=e=>e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("splitpanes__splitter");function ce(e,n,o){let t=e[P()?"top":"left"];return o&&!P()&&(t=n-t),t}const Q=()=>it(P());function Pe(e,n){R(N,!0),L=n.index,n.setSplitterActive(!0);let t=n.element;for(;t&&(t=t.previousSibling,!(t&&y(t))););if(t===null){console.error("Splitpane Error: Active splitter wasn't found!");return}j=t;const c=Ge(e),r=Re(j);ae=ce(Te(c,r),r[Q()],le()),xe()}function Y(e){if(u(N)){R(H,!0);const n=Ge(e),o=Ee(u(A)),t=yt(u(A),o),c=t[Q()],r=le(o),s=Te(n,t),a=ce(s,c,r);at(a,c),v("resize",J())}}function b(){u(H)&&v("resized",J()),R(N,!1),i[L].setSplitterActive(!1),setTimeout(()=>{R(H,!1),I()},100)}function w(e,n){if("ontouchstart"in window){const o=n.index;me()&&(M===o?(V&&clearTimeout(V),V=null,ke(e,n),M=-1):(M=o,V=setTimeout(()=>{M=-1},500)))}u(H)||v("splitter-click",n)}function ke(e,n){if(me()){const o=n.index;let t=0;for(let s=0;s<i.length;s++){const a=i[s];s!==o&&(t+=a.min())}const c=Math.min(Math.max(0,100-t),n.max()),r=t+c;if(r>=100)for(let s=0;s<i.length;s++){const a=i[s];a!==n?a.setSz(a.min()):a.setSz(100-t)}else{let s=100-r;n.setSz(c);const a=f=>{const p=f.min(),g=f.max(),E=Math.min(Math.max(0,s),g-p);f.setSz(p+E),s-=E};for(let f=o-1;f>=0;f--)a(i[f]);for(let f=o+1;f<i.length;f++)a(i[f]);s!==0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}v("pane-maximize",n),v("resized",J())}R(N,!1)}const J=()=>i.map(e=>({min:e.min(),max:e.max(),size:e.sz(),snap:e.snap()}));function ot(e,n){const o=g=>Re(g)[Q()],t=o(j);let c=0,r=j.previousSibling;for(;r;)y(r)&&(c+=o(r)),r=r.previousSibling;let s=0,a=j.nextSibling;for(;a;)y(a)&&(s+=o(a)),a=a.nextSibling;const f=c+ae,p=c+t+s;return(e-f)/(n-p)*100}function at(e,n){let o=L-1,t=i[o],c=L,r=i[c],s={prevPanesSize:Ie(o),nextPanesSize:Fe(c),prevReachedMinPanes:0,nextReachedMinPanes:0};const a=0+(U()?0:s.prevPanesSize),f=100-(U()?0:s.nextPanesSize),p=Math.max(Math.min(ot(e,n),f),a),g=s.prevPanesSize+t.min()+t.snap(),E=100-(s.nextPanesSize+r.min()+r.snap());let m=p,F=!1;p<=g?p>s.prevPanesSize+t.min()&&(m=Math.max(t.min()+s.prevPanesSize,100-(r.max()+s.nextPanesSize)),F=!0):p>=E&&p<100-s.nextPanesSize-r.min()&&(m=Math.min(100-(r.min()+s.nextPanesSize),t.max()+s.prevPanesSize),F=!0);const de=t.max()<100&&m>=t.max()+s.prevPanesSize,pt=r.max()<100&&m<=100-(r.max()+s.nextPanesSize);if(de||pt)de?(t.setSz(t.max()),r.setSz(Math.max(100-t.max()-s.prevPanesSize-s.nextPanesSize,0))):(t.setSz(Math.max(100-r.max()-s.prevPanesSize-s.nextPanesSize,0)),r.setSz(r.max()));else{if(U()&&!F){const Oe=rt(s,m);if(!Oe)return;({sums:s,paneBeforeIndex:o,paneAfterIndex:c}=Oe),t=i[o],r=i[c]}typeof o=="number"&&t.setSz(Math.min(Math.max(m-s.prevPanesSize-s.prevReachedMinPanes,t.min()),t.max())),typeof c=="number"&&r.setSz(Math.min(Math.max(100-m-s.nextPanesSize-s.nextReachedMinPanes,r.min()),r.max()))}}function rt(e,n){var r,s;const o=L-1;let t=o,c=o+1;if(n<e.prevPanesSize+i[t].min()){if(t=(r=lt(o))==null?void 0:r.index,e.prevReachedMinPanes=0,t===void 0)return e.prevPanesSize=0,i[0].setSz(i[0].min()),ue(i,1,o+1,a=>{a.setSz(a.min()),e.prevReachedMinPanes+=a.min()}),i[c].setSz(100-e.prevReachedMinPanes-i[0].min()-e.prevPanesSize-e.nextPanesSize),null;t<o&&ue(i,t+1,o+1,a=>{a.setSz(a.min()),e.prevReachedMinPanes+=a.min()}),e.prevPanesSize=Ie(t)}if(n>100-e.nextPanesSize-i[c].min())if(c=(s=ct(o))==null?void 0:s.index,t===void 0&&console.log("Yep undefined paneAfterIndex"),e.nextReachedMinPanes=0,c===void 0){e.nextPanesSize=0;const a=i.length;return i[a-1].setSz(i[a-1].min()),ue(i,o+1,a-1,f=>{f.setSz(f.min()),e.nextReachedMinPanes+=f.min()}),i[t].setSz(100-e.prevPanesSize-e.nextReachedMinPanes-i[a-1].min()-e.nextPanesSize),null}else c>o+1&&ue(i,o+1,c,a=>{a.setSz(a.min()),e.nextReachedMinPanes+=a.min()}),e.nextPanesSize=Fe(c);return{sums:e,paneBeforeIndex:t,paneAfterIndex:c}}const Ne=e=>e.sz(),Ie=e=>He(i,0,e,Ne),Fe=e=>He(i,e+1,i.length,Ne),lt=e=>[...i].reverse().find(n=>n.index<e&&n.sz()>n.min()),ct=e=>i.find(n=>n.index>e+1&&n.sz()>n.min());async function ge(){Z=!0,await xt(),Z&&(Ae(),Z=!1)}function Ae(){dt(),K&&v("resized",J())}function dt(){if(i.length===0)return;const e=i.length;let n=100,o=0,t=0,c=0;const r=[],s=[];for(let E=0;E<e;E++){const m=i[E],F=m.sz();m.givenSize===null?m.isReady?(c+=F,F>=m.max()&&r.push(m),F<=m.min()&&s.push(m)):t+=1:(n-=F,o++,r.push(m),s.push(m))}const a=e-o,f=a-t;let p,g;if(f>0?(p=c/f,p>.1&&n>.1?(c+=t*p,g=n/c):(p=0,g=1)):(p=n/a,g=1),n+c>.1){n=100;for(let E=0;E<e;E++){const m=i[E];if(typeof m.givenSize!="number"){const F=m.isReady?m.sz():p,de=Math.max(Math.min(F*g,m.max()),m.min());m.setSz(de)}n-=m.sz()}Math.abs(n)>.1&&(n=ft(n,r,s))}isFinite(n)?Math.abs(n)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function ft(e,n,o){const c=i.length-(e>0?n.length:o.length);if(c<=0)return e;const r=e/c;if(i.length===1)i[0].setSz(100),e=0;else for(let s=0;s<i.length;s++){const a=i[s],f=a.sz();if(e>0&&!n.includes(a)){const p=Math.max(Math.min(f+r,a.max()),a.min()),g=p-f;e-=g,a.setSz(p)}else if(!o.includes(a)){const p=Math.max(Math.min(f+r,a.max()),a.min()),g=p-f;e-=g,a.setSz(p)}}return e}function Le(){var t;if(!u(A))return;const{children:e}=u(A);let n=0,o=!1;for(let c=0;c<e.length;c++){const r=e.item(c),s=r.classList.contains("splitpanes__pane"),a=r.classList.contains("splitpanes__splitter");if(!s&&!a){(t=r.parentNode)==null||t.removeChild(r),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else s&&(!o&&i[n].element!==r&&(o=!0),n++)}if(o){const c=[];for(let r=0;r<e.length;r++){const s=e.item(r);if(s==null?void 0:s.classList.contains("splitpanes__pane")){const f=i.find(p=>p.element===s);f?(f.index=c.length,c.push(f)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}i=c,X(B,i.length>0?i[0].key:void 0)}}te(()=>be(P()),()=>{X(z,P())}),te(()=>be(k()),()=>{X(oe,k())}),Ue(),Ye();var q=wt();let Be;var Ce=et(q);ye(Ce,e=>{});var ut=$e(Ce,2);Je(ut,l,"default",{}),nt(q),Xe(q,e=>R(A,e),()=>u(A)),we(e=>{vt(q,"id",W()),Be=Me(q,1,`splitpanes ${Se()||""} ${ze()||""}`,null,Be,e),tt(q,he())},[()=>({"splitpanes--horizontal":P(),"splitpanes--vertical":!P(),"splitpanes--dragging":u(N)||u(H),"splitpanes--freeze":!u(se)})],zt),pe(d,q),Ze(),S()}const Mt=(d,l)=>h=>{const S=d();S!==null&&S[l](h)},bt=d=>Mt.bind(null,d);var Et=De("<div></div>"),Rt=De("<!>   <div><!></div>",1);function Nt(d,l){je(l,!1);const[h,S]=Qe(),x=()=>ne(he,"$isHorizontal",h),D=()=>ne(ze,"$veryFirstPaneKey",h),W=()=>ne(Se,"$showFirstSplitter",h),P=O(),U=O(),{ssrRegisterPaneSize:me,onPaneInit:ie,clientOnly:k,isHorizontal:he,showFirstSplitter:Se,veryFirstPaneKey:ze}=Pt(st);let v=_(l,"size",12,null),A=_(l,"minSize",8,0),K=_(l,"maxSize",8,100),Z=_(l,"snapSize",8,0),se=_(l,"class",8,"");const N={},{undefinedPaneInitSize:H}=ie(N);let L=O(),M=O(v()??H),V=O(!1),i;const z=bt(()=>i),oe=C=>{i&&C!=u(M)&&(z==null||z("reportGivenSizeChange")(C))};qe(()=>{const C={index:0,key:N,element:u(L),givenSize:v(),sz:()=>u(M),setSz:T=>{R(M,T),typeof v()=="number"&&v()!==u(M)&&v(u(M))},min:()=>A(),max:()=>K(),snap:()=>Z(),setSplitterActive:T=>{R(V,T)},isReady:!1};i=k==null?void 0:k.onPaneAdd(C)}),We(()=>{k==null||k.onPaneRemove(N)}),te(()=>be(v()),()=>{typeof v()=="number"&&oe(v())}),te(()=>x(),()=>{R(P,it(x()))}),te(()=>(u(P),u(M)),()=>{R(U,`${u(P)}: ${u(M)}%;`)}),Ue(),Ye();var B=gt(),j=Ke(B);{var ae=C=>{var T=Rt(),re=Ke(T);{var ve=I=>{var y=Et(),ce=ee(()=>z==null?void 0:z("onSplitterDown")),Q=ee(()=>z==null?void 0:z("onSplitterDown")),Pe=ee(()=>z==null?void 0:z("onSplitterClick")),Y=ee(()=>z==null?void 0:z("onSplitterDblClick"));we(()=>Me(y,1,`splitpanes__splitter ${u(V)?"splitpanes__splitter__active":""}`)),$("mousedown",y,function(...b){var w;(w=u(ce))==null||w.apply(this,b)}),$("touchstart",y,function(...b){var w;(w=u(Q))==null||w.apply(this,b)}),$("click",y,function(...b){var w;(w=u(Pe))==null||w.apply(this,b)}),$("dblclick",y,function(...b){var w;(w=u(Y))==null||w.apply(this,b)}),pe(I,y)};ye(re,I=>{(D()!==N||W())&&I(ve)})}var G=$e(re,2),le=ee(()=>z==null?void 0:z("onPaneClick")),xe=et(G);Je(xe,l,"default",{}),nt(G),Xe(G,I=>R(L,I),()=>u(L)),we(()=>{Me(G,1,`splitpanes__pane ${se()||""}`),tt(G,u(U))}),$("click",G,function(...I){var y;(y=u(le))==null||y.apply(this,I)}),pe(C,T)};ye(j,C=>{C(ae)})}pe(d,B),Ze(),S()}export{Nt as P,kt as S};
