import{S as De,i as Ie,s as Ne,c as Oe,e as pe,a as Ae,b as he,d as me,f as Fe,g as L,h as D,t as B,j as $,k as rt,u as Be,l as Le,m as Ge,n as le,o as oe,p as ct,q as Z,r as ft,v as Te,w as Ve,x as ut,y as X,B as je,z as fe,A as dt,C as Ke,D as Me,E as pt,F as ht,G as mt}from"./external-f77253de.js";function se(n){if(!n.endsWith("px"))return;const t=parseFloat(n.slice(0,n.length-2));return isNaN(t)?void 0:t}const We=n=>n?"height":"width",ue=n=>window.getComputedStyle(n),de=n=>n.getBoundingClientRect(),St=(n,t=!0)=>{if(n.getPropertyValue("box-sizing")==="border-box")return;const i=se(n.getPropertyValue("border-left-width"));if(i===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const r=se(n.getPropertyValue("border-top-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const f={left:i,top:r};if(t){const z=se(n.getPropertyValue("border-right-width"));if(z===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const w=se(n.getPropertyValue("border-bottom-width"));if(w===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const S=f;S.right=z,S.bottom=w}return f};function zt(n,t){t||(t=ue(n));const i=de(n),r=St(t,!0)||{left:0,top:0,right:0,bottom:0};return{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,left:i.left+r.left,top:i.top+r.top}}const Ce=(n,t)=>({left:n.left-t.left,top:n.top-t.top});function ke(n){const t=n,i=n,{clientX:r,clientY:f}="ontouchstart"in window&&i.touches?i.touches[0]:t;return{left:r,top:f}}function Re(n,t,i,r){let f=0;for(let z=t;z<i;z++)f+=r(n[z],z);return f}function gt(n){let t,i,r,f,z=!je;const w=n[16].default,S=Oe(w,n,n[18],null);return{c(){t=pe("div"),i=Ae(),S&&S.c(),this.h()},l(v){t=he(v,"DIV",{id:!0,class:!0,style:!0});var m=me(t);i=Fe(m),S&&S.l(m),m.forEach(L),this.h()},h(){D(t,"id",n[0]),D(t,"class",r=`splitpanes ${n[3]||""} ${n[4]||""}`),D(t,"style",n[2]),B(t,"splitpanes--horizontal",n[1]),B(t,"splitpanes--vertical",!n[1]),B(t,"splitpanes--dragging",n[7]||n[8]),B(t,"splitpanes--freeze",!n[6])},m(v,m){$(v,t,m),rt(t,i),S&&S.m(t,null),n[17](t),f=!0},p(v,m){S&&S.p&&(!f||m[0]&262144)&&Be(S,w,v,v[18],f?Ge(w,v[18],m,null):Le(v[18]),null),(!f||m[0]&1)&&D(t,"id",v[0]),(!f||m[0]&24&&r!==(r=`splitpanes ${v[3]||""} ${v[4]||""}`))&&D(t,"class",r),(!f||m[0]&4)&&D(t,"style",v[2]),(!f||m[0]&26)&&B(t,"splitpanes--horizontal",v[1]),(!f||m[0]&26)&&B(t,"splitpanes--vertical",!v[1]),(!f||m[0]&408)&&B(t,"splitpanes--dragging",v[7]||v[8]),(!f||m[0]&88)&&B(t,"splitpanes--freeze",!v[6])},i(v){f||(le(z),le(S,v),f=!0)},o(v){oe(z),oe(S,v),f=!1},d(v){v&&L(t),S&&S.d(v),n[17](null)}}}const qe={};function Pt(n,t,i){let r,f,z,{$$slots:w={},$$scope:S}=t,{id:v=void 0}=t,{horizontal:m=!1}=t,{pushOtherPanes:g=!0}=t,{dblClickSplitter:x=!0}=t,{rtl:G="auto"}=t,{firstSplitter:T=!1}=t,{style:J=null}=t,{theme:Q="default-theme"}=t,{class:C=""}=t;const y=ct();let I,N=!1,H=!1,V=!1,j=!1,K=!1,O=-1,k=-1,W,o=new Array,R=fe(m);Z(n,R,e=>i(31,z=e));const U=fe(T);Z(n,U,e=>i(30,f=e));const F=fe(void 0);Z(n,F,e=>i(29,r=e));let q=null,P=null;ft(qe,{showFirstSplitter:U,veryFirstPaneKey:F,isHorizontal:R,ssrRegisterPaneSize:void 0,onPaneInit:e=>(r===void 0&&X(F,r=e,r),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:He,onPaneRemove:Ue}});function He(e){let s=-1;Array.from(e.element.parentNode.children).some(l=>(l.className.includes("splitpanes__pane")&&s++,l===e.element)),s===0&&X(F,r=e.key,r),o.splice(s,0,e);for(let l=0;l<o.length;l++)o[l].index=l;N&&ce().then(()=>{e.isReady=!0,y("pane-add",{index:s,panes:Y()})});const a=(l,h=!0)=>d=>{(h||e.index>0)&&l(d,e)};return{onSplitterDown:a(Je,!1),onSplitterClick:a(Qe,!1),onSplitterDblClick:a(Pe),onPaneClick:a(Ye),reportGivenSizeChange:a(Xe)}}async function Ue(e){const s=o.findIndex(a=>a.key===e);if(s>=0){const a=o.splice(s,1)[0];for(let l=0;l<o.length;l++)o[l].index=l;s===0&&X(F,r=o.length>0?o[0].key:void 0,r),N&&(await ce(),y("pane-remove",{removed:a,panes:Y()}))}}function Ye(e,s){y("pane-click",s)}function Xe(e,s){s.setSz(e),ce()}Te(()=>{xe(),we();for(let e=0;e<o.length;e++)o[e].isReady=!0;N=!0,y("ready"),setTimeout(()=>{i(6,V=!0)},0)}),Ve(()=>{N&&ze(),N=!1}),ut(()=>{xe()});function Se(e){if(G==="auto")try{return(e??ue(I)).direction==="rtl"}catch{}return G===!0}function Ze(){document.body.style.cursor=R?"col-resize":"row-resize",document.addEventListener("mousemove",te,{passive:!1}),document.addEventListener("mouseup",ne),"ontouchstart"in window&&(document.addEventListener("touchmove",te,{passive:!1}),document.addEventListener("touchend",ne))}function ze(){document.body.style.cursor="",document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne),"ontouchstart"in window&&(document.removeEventListener("touchmove",te),document.removeEventListener("touchend",ne))}const ae=e=>e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("splitpanes__splitter");function ge(e,s,a){let l=e[m?"top":"left"];return a&&!m&&(l=s-l),l}const re=()=>We(m);function Je(e,s){i(7,j=!0),O=s.index,s.setSplitterActive(!0);let l=s.element;for(;l!=null&&(l=l.previousSibling,!ae(l)););if(l==null){console.error("Splitpane Error: Active splitter wasn't found!");return}q=l;const h=ke(e),d=de(q);P=ge(Ce(h,d),d[re()],Se()),Ze()}function te(e){if(j){e.preventDefault(),i(8,K=!0);const s=ke(e),a=ue(I),l=zt(I,a),h=l[re()],d=Se(a),c=Ce(s,l),u=ge(c,h,d);et(u,h),y("resize",Y())}}function ne(){K&&y("resized",Y()),i(7,j=!1),o[O].setSplitterActive(!1),setTimeout(()=>{i(8,K=!1),ze()},100)}function Qe(e,s){if("ontouchstart"in window){e.preventDefault();const a=s.index;x&&(k===a?(W&&clearTimeout(W),W=null,Pe(e,s),k=-1):(k=a,W=setTimeout(()=>{k=-1},500)))}K||y("splitter-click",s)}function Pe(e,s){const a=s.index;let l=0;for(let c=0;c<o.length;c++){const u=o[c];c!==a&&(l+=u.min())}const h=Math.min(Math.max(0,100-l),s.max()),d=l+h;if(d>=100)for(let c=0;c<o.length;c++){const u=o[c];u!==s?u.setSz(u.min()):u.setSz(100-l)}else{let c=100-d;s.setSz(h);const u=p=>{const _=p.min(),M=p.max(),E=Math.min(Math.max(0,c),M-_);p.setSz(_+E),c-=E};for(let p=a-1;p>=0;p--)u(o[p]);for(let p=a+1;p<o.length;p++)u(o[p]);c!=0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}y("pane-maximize",s),y("resized",Y()),i(7,j=!1)}function Y(){const e=new Array(o.length);for(let s=0;s<o.length;s++){const a=o[s];e[s]={min:a.min(),max:a.max(),size:a.sz(),snap:a.snap()}}return e}function $e(e,s){const a=M=>de(M)[re()],l=a(q);let h=0,d=q.previousSibling;for(;d!=null;)ae(d)&&(h+=a(d)),d=d.previousSibling;let c=0,u=q.nextSibling;for(;u!=null;)ae(u)&&(c+=a(u)),u=u.nextSibling;const p=h+P,_=h+l+c;return(e-p)/(s-_)*100}function et(e,s){let a=O-1,l=o[a],h=O,d=o[h],c={prevPanesSize:_e(a),nextPanesSize:be(h),prevReachedMinPanes:0,nextReachedMinPanes:0};const u=0+(g?0:c.prevPanesSize),p=100-(g?0:c.nextPanesSize),_=Math.max(Math.min($e(e,s),p),u),M=c.prevPanesSize+l.min()+l.snap(),E=100-(c.nextPanesSize+d.min()+d.snap());let b=_,A=!1;_<=M?_>c.prevPanesSize+l.min()&&(b=Math.max(l.min()+c.prevPanesSize,100-(d.max()+c.nextPanesSize)),A=!0):_>=E&&_<100-c.nextPanesSize-d.min()&&(b=Math.min(100-(d.min()+c.nextPanesSize),l.max()+c.prevPanesSize),A=!0);const ie=l.max()<100&&b>=l.max()+c.prevPanesSize,at=d.max()<100&&b<=100-(d.max()+c.nextPanesSize);if(ie||at)ie?(l.setSz(l.max()),d.setSz(Math.max(100-l.max()-c.prevPanesSize-c.nextPanesSize,0))):(l.setSz(Math.max(100-d.max()-c.prevPanesSize-c.nextPanesSize,0)),d.setSz(d.max()));else{if(g&&!A){const ye=tt(c,b);if(!ye)return;({sums:c,paneBeforeIndex:a,paneAfterIndex:h}=ye),l=o[a],d=o[h]}a!=null&&l.setSz(Math.min(Math.max(b-c.prevPanesSize-c.prevReachedMinPanes,l.min()),l.max())),h!=null&&d.setSz(Math.min(Math.max(100-b-c.nextPanesSize-c.nextReachedMinPanes,d.min()),d.max()))}}function tt(e,s){var d,c;const a=O-1;let l=a,h=a+1;if(s<e.prevPanesSize+o[l].min()){if(l=(d=nt(a))==null?void 0:d.index,e.prevReachedMinPanes=0,l<a)for(let u=0;u<o.length;u++){const p=o[u];u>l&&u<=a&&(p.setSz(p.min()),e.prevReachedMinPanes+=p.min())}if(e.prevPanesSize=_e(l),l==null){e.prevReachedMinPanes=0,o[0].setSz(o[0].min());for(let u=0;u<o.length;u++){const p=o[u];u>0&&u<=a&&(p.setSz(p.min()),e.prevReachedMinPanes+=p.min())}return o[h].setSz(100-e.prevReachedMinPanes-o[0].min()-e.prevPanesSize-e.nextPanesSize),null}}if(s>100-e.nextPanesSize-o[h].min()){if(h=(c=it(a))==null?void 0:c.index,e.nextReachedMinPanes=0,h>a+1)for(let p=0;p<o.length;p++){const _=o[p];p>a&&p<h&&(_.setSz(_.min()),e.nextReachedMinPanes+=_.min())}e.nextPanesSize=be(h);const u=o.length;if(h==null){e.nextReachedMinPanes=0,o[u-1].setSz(o[u-1].min());for(let p=0;p<o.length;p++){const _=o[p];p<u-1&&p>=a+1&&(_.setSz(_.min()),e.nextReachedMinPanes+=_.min())}return o[l].setSz(100-e.prevPanesSize-e.nextReachedMinPanes-o[u-1].min()-e.nextPanesSize),null}}return{sums:e,paneBeforeIndex:l,paneAfterIndex:h}}const ve=e=>e.sz(),_e=e=>Re(o,0,e,ve),be=e=>Re(o,e+1,o.length,ve),nt=e=>[...o].reverse().find(s=>s.index<e&&s.sz()>s.min()),it=e=>o.find(s=>s.index>e+1&&s.sz()>s.min());async function ce(){H=!0,await dt(),H&&(we(),H=!1)}function we(){st(),N&&y("resized",Y())}function st(){if(o.length===0)return;const e=o.length;let s=100,a=0,l=0,h=0,d=[],c=[];for(let E=0;E<e;E++){const b=o[E],A=b.sz();b.givenSize==null?b.isReady?(h+=A,A>=b.max()&&d.push(b),A<=b.min()&&c.push(b)):l+=1:(s-=A,a++,d.push(b),c.push(b))}const u=e-a,p=u-l;let _,M;if(p>0?(_=h/p,_>.1&&s>.1?(h+=l*_,M=s/h):(_=0,M=1)):(_=s/u,M=1),s+h>.1){s=100;for(let E=0;E<e;E++){const b=o[E];if(b.givenSize==null){const A=b.isReady?b.sz():_,ie=Math.max(Math.min(A*M,b.max()),b.min());b.setSz(ie)}s-=b.sz()}Math.abs(s)>.1&&(s=lt(s,d,c))}isFinite(s)?Math.abs(s)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function lt(e,s,a){const h=o.length-(e>0?s.length:a.length);if(h<=0)return e;const d=e/h;if(o.length===1)o[0].setSz(100),e=0;else for(let c=0;c<o.length;c++){const u=o[c],p=u.sz();if(e>0&&!s.includes(u)){const _=Math.max(Math.min(p+d,u.max()),u.min()),M=_-p;e-=M,u.setSz(_)}else if(!a.includes(u)){const _=Math.max(Math.min(p+d,u.max()),u.min()),M=_-p;e-=M,u.setSz(_)}}return e}function xe(){var l;const{children:e}=I;let s=0,a=!1;for(let h=0;h<e.length;h++){const d=e.item(h),c=d.classList.contains("splitpanes__pane"),u=d.classList.contains("splitpanes__splitter");if(!c&&!u){(l=d.parentNode)==null||l.removeChild(d),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else c&&(!a&&o[s].element!==d&&(a=!0),s++)}if(a){const h=[];for(let d=0;d<e.length;d++){const c=e.item(d);if(c.classList.contains("splitpanes__pane")){const p=o.find(_=>_.element===c);p!=null?(p.index=h.length,h.push(p)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}o=h,X(F,r=o.length>0?o[0].key:void 0,r)}}function ot(e){Ke[e?"unshift":"push"](()=>{I=e,i(5,I)})}return n.$$set=e=>{"id"in e&&i(0,v=e.id),"horizontal"in e&&i(1,m=e.horizontal),"pushOtherPanes"in e&&i(12,g=e.pushOtherPanes),"dblClickSplitter"in e&&i(13,x=e.dblClickSplitter),"rtl"in e&&i(14,G=e.rtl),"firstSplitter"in e&&i(15,T=e.firstSplitter),"style"in e&&i(2,J=e.style),"theme"in e&&i(3,Q=e.theme),"class"in e&&i(4,C=e.class),"$$scope"in e&&i(18,S=e.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&X(R,z=m,z),n.$$.dirty[0]&32768&&X(U,f=T,f)},[v,m,J,Q,C,I,V,j,K,R,U,F,g,x,G,T,w,ot,S]}class Mt extends De{constructor(t){super(),Ie(this,t,Pt,gt,Ne,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const vt=(n,t)=>i=>{const r=n();r!=null&&r[t](i)},_t=(n,t)=>Object.fromEntries(t.map(i=>[i,vt(n,i)]));function bt(n){let t,i,r,f,z,w,S=(n[4]!==n[9]||n[5])&&Ee(n);const v=n[21].default,m=Oe(v,n,n[20],null);return{c(){S&&S.c(),t=Ae(),i=pe("div"),m&&m.c(),this.h()},l(g){S&&S.l(g),t=Fe(g),i=he(g,"DIV",{class:!0,style:!0});var x=me(i);m&&m.l(x),x.forEach(L),this.h()},h(){D(i,"class",r=`splitpanes__pane ${n[0]||""}`),D(i,"style",n[3])},m(g,x){S&&S.m(g,x),$(g,t,x),$(g,i,x),m&&m.m(i,null),n[22](i),f=!0,z||(w=ht(i,"click",n[11].onPaneClick),z=!0)},p(g,x){g[4]!==g[9]||g[5]?S?S.p(g,x):(S=Ee(g),S.c(),S.m(t.parentNode,t)):S&&(S.d(1),S=null),m&&m.p&&(!f||x&1048576)&&Be(m,v,g,g[20],f?Ge(v,g[20],x,null):Le(g[20]),null),(!f||x&1&&r!==(r=`splitpanes__pane ${g[0]||""}`))&&D(i,"class",r),(!f||x&8)&&D(i,"style",g[3])},i(g){f||(le(m,g),f=!0)},o(g){oe(m,g),f=!1},d(g){S&&S.d(g),g&&L(t),g&&L(i),m&&m.d(g),n[22](null),z=!1,w()}}}function Ee(n){let t,i,r,f;return{c(){t=pe("div"),this.h()},l(z){t=he(z,"DIV",{class:!0}),me(t).forEach(L),this.h()},h(){D(t,"class",i="splitpanes__splitter "+(n[2]?"splitpanes__splitter__active":""))},m(z,w){$(z,t,w),r||(f=mt(n[12].call(null,t)),r=!0)},p(z,w){w&4&&i!==(i="splitpanes__splitter "+(z[2]?"splitpanes__splitter__active":""))&&D(t,"class",i)},d(z){z&&L(t),r=!1,f()}}}function wt(n){let t,i,r=!n[10]&&bt(n);return{c(){r&&r.c(),t=Me()},l(f){r&&r.l(f),t=Me()},m(f,z){r&&r.m(f,z),$(f,t,z),i=!0},p(f,[z]){f[10]||r.p(f,z)},i(f){i||(le(r),i=!0)},o(f){oe(r),i=!1},d(f){r&&r.d(f),f&&L(t)}}}function xt(n,t,i){let r,f,z,w,S,{$$slots:v={},$$scope:m}=t;const{ssrRegisterPaneSize:g,onPaneInit:x,clientOnly:G,isHorizontal:T,showFirstSplitter:J,veryFirstPaneKey:Q}=pt(qe);Z(n,T,P=>i(19,z=P)),Z(n,J,P=>i(5,S=P)),Z(n,Q,P=>i(4,w=P));let{size:C=null}=t,{minSize:y=0}=t,{maxSize:I=100}=t,{snapSize:N=0}=t,{class:H=""}=t;const V={},j=!je,{undefinedPaneInitSize:K}=x(V);let O,k=C??K,W=!1,o;const R=_t(()=>o,["onSplitterDown","onSplitterClick","onSplitterDblClick","onPaneClick","reportGivenSizeChange"]),U=P=>{P!=k&&R.reportGivenSizeChange(P)},F=P=>{P.onmousedown=R.onSplitterDown,"ontouchstart"in window&&(P.ontouchstart=R.onSplitterDown),P.onclick=R.onSplitterClick,P.ondblclick=R.onSplitterDblClick};Te(()=>{const P={key:V,element:O,givenSize:C,sz:()=>k,setSz:ee=>{i(17,k=ee),C!=null&&C!=k&&i(13,C=k)},min:()=>y,max:()=>I,snap:()=>N,setSplitterActive:ee=>{i(2,W=ee)},isReady:!1};o=G.onPaneAdd(P)}),Ve(()=>{G.onPaneRemove(V)});function q(P){Ke[P?"unshift":"push"](()=>{O=P,i(1,O)})}return n.$$set=P=>{"size"in P&&i(13,C=P.size),"minSize"in P&&i(14,y=P.minSize),"maxSize"in P&&i(15,I=P.maxSize),"snapSize"in P&&i(16,N=P.snapSize),"class"in P&&i(0,H=P.class),"$$scope"in P&&i(20,m=P.$$scope)},n.$$.update=()=>{n.$$.dirty&8192&&C!=null&&U(C),n.$$.dirty&524288&&i(18,r=We(z)),n.$$.dirty&393216&&i(3,f=`${r}: ${k}%;`)},[H,O,W,f,w,S,T,J,Q,V,j,R,F,C,y,I,N,k,r,z,m,v,q]}class Ct extends De{constructor(t){super(),Ie(this,t,xt,wt,Ne,{size:13,minSize:14,maxSize:15,snapSize:16,class:0})}}export{Ct as P,Mt as S};
