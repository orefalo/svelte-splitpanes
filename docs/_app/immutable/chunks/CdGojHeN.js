import{p as Ze,a as P,c as Pt,w as Me,s as yt,o as Je,b as Xe,d as _t,l as ne,e as Qe,i as $e,f as Le,g as Ce,h as et,j as tt,t as Ee,k as he,m as nt,n as it,q as st,r as at,u as J,v as C,x as F,y as f,z as Re,A as ot,B as bt,C as ke,D as rt,E as ie,F as wt,G as Mt,H as Ct,I as Ve,J as Q,K as $}from"./ChhXGhQj.js";function ue(c){if(!c?.endsWith("px"))return;const l=parseFloat(c.slice(0,c.length-2));return isNaN(l)?void 0:l}const lt=c=>c?"height":"width",De=c=>window.getComputedStyle(c),Ie=c=>c.getBoundingClientRect(),Et=(c,l=!0)=>{if(c.getPropertyValue("box-sizing")==="border-box")return;const S=ue(c.getPropertyValue("border-left-width"));if(S===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const m=ue(c.getPropertyValue("border-top-width"));if(m===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const v={left:S,top:m};if(l){const y=ue(c.getPropertyValue("border-right-width"));if(y===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const j=ue(c.getPropertyValue("border-bottom-width"));if(j===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const x=v;x.right=y,x.bottom=j}return v};function Rt(c,l){l||(l=De(c));const S=Ie(c),m=Et(l,!0)||{left:0,top:0,right:0,bottom:0};return{width:S.width-m.left-m.right,height:S.height-m.top-m.bottom,left:S.left+m.left,top:S.top+m.top}}const je=(c,l)=>({left:c.left-l.left,top:c.top-l.top});function Ye(c){const l=c,S=c,{clientX:m,clientY:v}="ontouchstart"in window&&S.touches?S.touches[0]:l;return{left:m,top:v}}function qe(c,l,S,m){let v=0;for(let y=l;y<S;y++)v+=m(c[y],y);return v}function pe(c,l,S,m){for(let v=l;v<S;v++)m(c[v],v)}const ct={},kt=500,Dt=100,ee=.1,te=100,We=(()=>{let c=!1;try{const l=Object.defineProperty({},"passive",{get(){return c={passive:!0},!0}});window.addEventListener("testpassive",l,l),window.remove("testpassive",l,l)}catch{}return c})();var It=Le("<div><!> <!></div>");function Bt(c,l){Ze(l,!1);const S=()=>ie(k,"$isHorizontal",v),m=()=>ie(N,"$veryFirstPaneKey",v),[v,y]=it();let j=P(l,"id",8,void 0),x=P(l,"horizontal",8,!1),Y=P(l,"pushOtherPanes",8,!0),me=P(l,"dblClickSplitter",8,!0),se=P(l,"rtl",8,"auto"),q=P(l,"firstSplitter",8,!1),Se=P(l,"style",8,null),ze=P(l,"theme",8,"default-theme"),ve=P(l,"class",8,"");const z=Pt();let I=F(),O=!1,X=!1,ae=F(!1),R=F(!1),T=F(!1),L=-1,b=-1,H,i=new Array;const k=Me(x()),oe=Me(q()),N=Me(void 0);let K,re,_=null,w=null,W=!1,G=[];yt(ct,{showFirstSplitter:oe,veryFirstPaneKey:N,isHorizontal:k,ssrRegisterPaneSize:void 0,onPaneInit:e=>(m()===void 0&&J(N,e),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:ge,onPaneRemove:A}});function xe(e){let n=-1,s=e.parentNode?.firstChild;for(;s&&(s.nodeType===Node.ELEMENT_NODE&&s.classList.contains("splitpanes__pane")&&n++,s!==e);)s=s.nextSibling;return n}function ge(e){const n=xe(e.element);n===0&&J(N,e.key),i.splice(n,0,e);for(let t=0;t<i.length;t++)i[t].index=t;O&&we().then(()=>{e.isReady=!0,z("pane-add",{index:n,panes:Z()})});const s=(t,r=!0)=>a=>{(r||e.index>0)&&t(a,e)};return{onSplitterDown:s(dt,!1),onSplitterClick:s(ft,!1),onSplitterDblClick:s(Ae),onPaneClick:s(B),reportGivenSizeChange:s(Pe)}}async function A(e){const n=i.findIndex(s=>s.key===e);if(n>=0){const s=i.splice(n,1)[0];for(let t=0;t<i.length;t++)i[t].index=t;n===0&&J(N,i.length>0?i[0].key:void 0),O&&(await we(),z("pane-remove",{removed:s,panes:Z()}))}}function B(e,n){z("pane-click",n)}function Pe(e,n){n.setSz(e),we()}Je(()=>{He(),Te();for(let e=0;e<i.length;e++)i[e].isReady=!0;O=!0,z("ready"),setTimeout(()=>{C(ae,!0)},0)}),Xe(()=>{O&&le(),O=!1}),_t(()=>{He()});function ye(e){if(se()==="auto")try{return(e??De(f(I))).direction==="rtl"}catch{}return se()===!0}function _e(){document.body.style.cursor=S()?"col-resize":"row-resize",document.addEventListener("mousemove",ce,We),document.addEventListener("mouseup",de),"ontouchstart"in window&&(document.addEventListener("touchmove",ce,We),document.addEventListener("touchend",de))}function le(){document.body.style.cursor="",document.removeEventListener("mousemove",ce),document.removeEventListener("mouseup",de),"ontouchstart"in window&&(document.removeEventListener("touchmove",ce),document.removeEventListener("touchend",de))}const E=e=>e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("splitpanes__splitter");function Ne(e,n,s){let t=e[x()?"top":"left"];return s&&!x()&&(t=n-t),t}const be=()=>lt(x());function dt(e,n){C(R,!0),L=n.index,n.setSplitterActive(!0);let t=n.element;for(;t&&(t=t.previousSibling,!(t&&E(t))););if(t===null){console.error("Splitpane Error: Active splitter wasn't found!");return}K=t;const r=Ye(e),a=Ie(K);_=De(f(I)),w=Rt(f(I),_),W=ye(_),re=Ne(je(r,a),a[be()],W),_e()}function ce(e){if(f(R)&&w){C(T,!0);const n=Ye(e),s=w[be()],t=je(n,w),r=Ne(t,s,W);pt(r,s),z("resize",Z())}}function de(){f(T)&&z("resized",Z()),C(R,!1),i[L].setSplitterActive(!1),_=null,w=null,setTimeout(()=>{C(T,!1),le()},Dt)}function ft(e,n){if("ontouchstart"in window){const s=n.index;me()&&(b===s?(H&&clearTimeout(H),H=null,Ae(e,n),b=-1):(b=s,H=setTimeout(()=>{b=-1},kt)))}f(T)||z("splitter-click",n)}function Ae(e,n){if(me()){const s=n.index;let t=0;for(let o=0;o<i.length;o++){const d=i[o];o!==s&&(t+=d.min())}const r=Math.min(Math.max(0,te-t),n.max()),a=t+r;if(a>=te)for(let o=0;o<i.length;o++){const d=i[o];d!==n?d.setSz(d.min()):d.setSz(te-t)}else{let o=te-a;n.setSz(r);const d=u=>{const h=u.min(),g=u.max(),M=Math.min(Math.max(0,o),g-h);u.setSz(h+M),o-=M};for(let u=s-1;u>=0;u--)d(i[u]);for(let u=s+1;u<i.length;u++)d(i[u]);o!==0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}z("pane-maximize",n),z("resized",Z())}C(R,!1)}const Z=()=>i.map(e=>({min:e.min(),max:e.max(),size:e.sz(),snap:e.snap()}));function ut(e,n){const s=g=>Ie(g)[be()],t=s(K);let r=0,a=K.previousSibling;for(;a;)E(a)&&(r+=s(a)),a=a.previousSibling;let o=0,d=K.nextSibling;for(;d;)E(d)&&(o+=s(d)),d=d.nextSibling;const u=r+re,h=r+t+o;return(e-u)/(n-h)*te}function pt(e,n){let s=L-1,t=i[s],r=L,a=i[r],o={prevPanesSize:Oe(s),nextPanesSize:Be(r),prevReachedMinPanes:0,nextReachedMinPanes:0};const d=0+(Y()?0:o.prevPanesSize),u=100-(Y()?0:o.nextPanesSize),h=Math.max(Math.min(ut(e,n),u),d),g=o.prevPanesSize+t.min()+t.snap(),M=100-(o.nextPanesSize+a.min()+a.snap());let p=h,D=!1;h<=g?h>o.prevPanesSize+t.min()&&(p=Math.max(t.min()+o.prevPanesSize,100-(a.max()+o.nextPanesSize)),D=!0):h>=M&&h<100-o.nextPanesSize-a.min()&&(p=Math.min(100-(a.min()+o.nextPanesSize),t.max()+o.prevPanesSize),D=!0);const fe=t.max()<100&&p>=t.max()+o.prevPanesSize,gt=a.max()<100&&p<=100-(a.max()+o.nextPanesSize);if(fe||gt)fe?(t.setSz(t.max()),a.setSz(Math.max(100-t.max()-o.prevPanesSize-o.nextPanesSize,0))):(t.setSz(Math.max(100-a.max()-o.prevPanesSize-o.nextPanesSize,0)),a.setSz(a.max()));else{if(Y()&&!D){const Ue=ht(o,p);if(!Ue)return;({sums:o,paneBeforeIndex:s,paneAfterIndex:r}=Ue),t=i[s],a=i[r]}typeof s=="number"&&t.setSz(Math.min(Math.max(p-o.prevPanesSize-o.prevReachedMinPanes,t.min()),t.max())),typeof r=="number"&&a.setSz(Math.min(Math.max(100-p-o.nextPanesSize-o.nextReachedMinPanes,a.min()),a.max()))}}function ht(e,n){const s=L-1;let t=s,r=s+1;if(n<e.prevPanesSize+i[t].min()){if(t=mt(s)?.index,e.prevReachedMinPanes=0,t===void 0)return e.prevPanesSize=0,i[0].setSz(i[0].min()),pe(i,1,s+1,a=>{a.setSz(a.min()),e.prevReachedMinPanes+=a.min()}),i[r].setSz(100-e.prevReachedMinPanes-i[0].min()-e.prevPanesSize-e.nextPanesSize),null;t<s&&pe(i,t+1,s+1,a=>{a.setSz(a.min()),e.prevReachedMinPanes+=a.min()}),e.prevPanesSize=Oe(t)}if(n>100-e.nextPanesSize-i[r].min())if(r=St(s)?.index,t===void 0&&console.log("Yep undefined paneAfterIndex"),e.nextReachedMinPanes=0,r===void 0){e.nextPanesSize=0;const a=i.length;return i[a-1].setSz(i[a-1].min()),pe(i,s+1,a-1,o=>{o.setSz(o.min()),e.nextReachedMinPanes+=o.min()}),i[t].setSz(100-e.prevPanesSize-e.nextReachedMinPanes-i[a-1].min()-e.nextPanesSize),null}else r>s+1&&pe(i,s+1,r,a=>{a.setSz(a.min()),e.nextReachedMinPanes+=a.min()}),e.nextPanesSize=Be(r);return{sums:e,paneBeforeIndex:t,paneAfterIndex:r}}const Fe=e=>e.sz(),Oe=e=>qe(i,0,e,Fe),Be=e=>qe(i,e+1,i.length,Fe),mt=e=>[...i].reverse().find(n=>n.index<e&&n.sz()>n.min()),St=e=>i.find(n=>n.index>e+1&&n.sz()>n.min());async function we(){X=!0,await wt(),X&&(Te(),X=!1)}function Te(){zt(),O&&z("resized",Z())}function zt(){if(i.length===0)return;const e=i.length;let n=100,s=0,t=0,r=0;const a=[],o=[];for(let M=0;M<e;M++){const p=i[M],D=p.sz();p.givenSize===null?p.isReady?(r+=D,D>=p.max()&&a.push(p),D<=p.min()&&o.push(p)):t+=1:(n-=D,s++,a.push(p),o.push(p))}const d=e-s,u=d-t;let h,g;if(u>0?(h=r/u,h>ee&&n>ee?(r+=t*h,g=n/r):(h=0,g=1)):(h=n/d,g=1),n+r>ee){n=100;for(let M=0;M<e;M++){const p=i[M];if(typeof p.givenSize!="number"){const D=p.isReady?p.sz():h,fe=Math.max(Math.min(D*g,p.max()),p.min());p.setSz(fe)}n-=p.sz()}Math.abs(n)>ee&&(n=vt(n,a,o))}isFinite(n)?Math.abs(n)>ee&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function vt(e,n,s){const r=i.length-(e>0?n.length:s.length);if(r<=0)return e;const a=e/r;if(i.length===1)i[0].setSz(100),e=0;else for(let o=0;o<i.length;o++){const d=i[o],u=d.sz();if(e>0&&!n.includes(d)){const h=Math.max(Math.min(u+a,d.max()),d.min()),g=h-u;e-=g,d.setSz(h)}else if(!s.includes(d)){const h=Math.max(Math.min(u+a,d.max()),d.min()),g=h-u;e-=g,d.setSz(h)}}return e}function He(){if(!f(I))return;const{children:e}=f(I);if(e.length===G.length&&e.length>0&&e[0]===G[0]&&e[e.length-1]===G[e.length-1])return;let n=0,s=!1;for(let t=0;t<e.length;t++){const r=e.item(t),a=r.classList.contains("splitpanes__pane"),o=r.classList.contains("splitpanes__splitter");if(!a&&!o){r.parentNode?.removeChild(r),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed."),G=Array.from(e);return}else a&&(!s&&i[n]?.element!==r&&(s=!0),n++)}if(s){const t=[];for(let r=0;r<e.length;r++){const a=e.item(r);if(a?.classList.contains("splitpanes__pane")){const d=i.find(u=>u.element===a);d?(d.index=t.length,t.push(d)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}i=t,J(N,i.length>0?i[0].key:void 0)}G=Array.from(e)}ne(()=>Re(x()),()=>{J(k,x())}),ne(()=>Re(q()),()=>{J(oe,q())}),Qe(),$e();var V=It();let Ke;var Ge=at(V);Ce(Ge,e=>{});var xt=st(Ge,2);et(xt,l,"default",{}),ot(V),tt(V,e=>C(I,e),()=>f(I)),Ee(()=>{bt(V,"id",j()),Ke=ke(V,1,`splitpanes ${ze()||""} ${ve()||""}`,null,Ke,{"splitpanes--horizontal":x(),"splitpanes--vertical":!x(),"splitpanes--dragging":f(R)||f(T),"splitpanes--freeze":!f(ae)}),rt(V,Se())}),he(c,V),nt(),y()}const Lt=(c,l)=>S=>{const m=c();m!==null&&m[l](S)},Nt=c=>Lt.bind(null,c);var At=Le("<div></div>"),Ft=Le("<!>   <div><!></div>",1);function Tt(c,l){Ze(l,!1);const S=()=>ie(Se,"$isHorizontal",y),m=()=>ie(ve,"$veryFirstPaneKey",y),v=()=>ie(ze,"$showFirstSplitter",y),[y,j]=it(),x=F(),Y=F(),{ssrRegisterPaneSize:me,onPaneInit:se,clientOnly:q,isHorizontal:Se,showFirstSplitter:ze,veryFirstPaneKey:ve}=Mt(ct);let z=P(l,"size",12,null),I=P(l,"minSize",8,0),O=P(l,"maxSize",8,100),X=P(l,"snapSize",8,0),ae=P(l,"class",8,"");const R={},{undefinedPaneInitSize:T}=se(R);let L=F(),b=F(z()??T),H=F(!1),i;const k=Nt(()=>i),oe=_=>{i&&_!=f(b)&&k?.("reportGivenSizeChange")(_)};Je(()=>{const _={index:0,key:R,element:f(L),givenSize:z(),sz:()=>f(b),setSz:w=>{C(b,w),typeof z()=="number"&&z()!==f(b)&&z(f(b))},min:()=>I(),max:()=>O(),snap:()=>X(),setSplitterActive:w=>{C(H,w)},isReady:!1};i=q?.onPaneAdd(_)}),Xe(()=>{q?.onPaneRemove(R)}),ne(()=>Re(z()),()=>{typeof z()=="number"&&oe(z())}),ne(()=>S(),()=>{C(x,lt(S()))}),ne(()=>(f(x),f(b)),()=>{C(Y,`${f(x)}: ${f(b)}%;`)}),Qe(),$e();var N=Ct(),K=Ve(N);{var re=_=>{var w=Ft(),W=Ve(w);{var G=A=>{var B=At(),Pe=$(()=>k?.("onSplitterDown")),ye=$(()=>k?.("onSplitterDown")),_e=$(()=>k?.("onSplitterClick")),le=$(()=>k?.("onSplitterDblClick"));Ee(()=>ke(B,1,`splitpanes__splitter ${f(H)?"splitpanes__splitter__active":""}`)),Q("mousedown",B,function(...E){f(Pe)?.apply(this,E)}),Q("touchstart",B,function(...E){f(ye)?.apply(this,E)}),Q("click",B,function(...E){f(_e)?.apply(this,E)}),Q("dblclick",B,function(...E){f(le)?.apply(this,E)}),he(A,B)};Ce(W,A=>{(m()!==R||v())&&A(G)})}var U=st(W,2),xe=$(()=>k?.("onPaneClick")),ge=at(U);et(ge,l,"default",{}),ot(U),tt(U,A=>C(L,A),()=>f(L)),Ee(()=>{ke(U,1,`splitpanes__pane ${ae()||""}`),rt(U,f(Y))}),Q("click",U,function(...A){f(xe)?.apply(this,A)}),he(_,w)};Ce(K,_=>{_(re)})}he(c,N),nt(),j()}export{Tt as P,Bt as S};
