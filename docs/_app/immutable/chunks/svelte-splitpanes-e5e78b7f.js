import{S as De,i as Ie,s as Ne,c as Oe,e as pe,a as Ae,b as he,d as me,f as Fe,g as L,h as E,t as B,j as ee,k as rt,u as Be,l as Le,m as Te,n as le,o as ae,p as ct,q as Z,r as ft,v as Ve,w as Ge,x as ut,y as X,B as Ke,z as fe,A as dt,C as We,D as xe,E as pt,F as $,G as ht}from"./external-b827b9fd.js";function se(t){if(!t.endsWith("px"))return;const n=parseFloat(t.slice(0,t.length-2));return isNaN(n)?void 0:n}const qe=t=>t?"height":"width",ue=t=>window.getComputedStyle(t),de=t=>t.getBoundingClientRect(),mt=(t,n=!0)=>{if(t.getPropertyValue("box-sizing")==="border-box")return;const i=se(t.getPropertyValue("border-left-width"));if(i===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const r=se(t.getPropertyValue("border-top-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const f={left:i,top:r};if(n){const z=se(t.getPropertyValue("border-right-width"));if(z===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const w=se(t.getPropertyValue("border-bottom-width"));if(w===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const S=f;S.right=z,S.bottom=w}return f};function St(t,n){n||(n=ue(t));const i=de(t),r=mt(n,!0)||{left:0,top:0,right:0,bottom:0};return{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,left:i.left+r.left,top:i.top+r.top}}const Ce=(t,n)=>({left:t.left-n.left,top:t.top-n.top});function ke(t){const n=t,i=t,{clientX:r,clientY:f}="ontouchstart"in window&&i.touches?i.touches[0]:n;return{left:r,top:f}}function Re(t,n,i,r){let f=0;for(let z=n;z<i;z++)f+=r(t[z],z);return f}function zt(t){let n,i,r,f,z=!Ke;const w=t[16].default,S=Oe(w,t,t[18],null);return{c(){n=pe("div"),i=Ae(),S&&S.c(),this.h()},l(P){n=he(P,"DIV",{id:!0,class:!0,style:!0});var m=me(n);i=Fe(m),S&&S.l(m),m.forEach(L),this.h()},h(){E(n,"id",t[0]),E(n,"class",r=`splitpanes ${t[3]||""} ${t[4]||""}`),E(n,"style",t[2]),B(n,"splitpanes--horizontal",t[1]),B(n,"splitpanes--vertical",!t[1]),B(n,"splitpanes--dragging",t[7]||t[8]),B(n,"splitpanes--freeze",!t[6])},m(P,m){ee(P,n,m),rt(n,i),S&&S.m(n,null),t[17](n),f=!0},p(P,m){S&&S.p&&(!f||m[0]&262144)&&Be(S,w,P,P[18],f?Te(w,P[18],m,null):Le(P[18]),null),(!f||m[0]&1)&&E(n,"id",P[0]),(!f||m[0]&24&&r!==(r=`splitpanes ${P[3]||""} ${P[4]||""}`))&&E(n,"class",r),(!f||m[0]&4)&&E(n,"style",P[2]),(!f||m[0]&26)&&B(n,"splitpanes--horizontal",P[1]),(!f||m[0]&26)&&B(n,"splitpanes--vertical",!P[1]),(!f||m[0]&408)&&B(n,"splitpanes--dragging",P[7]||P[8]),(!f||m[0]&88)&&B(n,"splitpanes--freeze",!P[6])},i(P){f||(le(z),le(S,P),f=!0)},o(P){ae(z),ae(S,P),f=!1},d(P){P&&L(n),S&&S.d(P),t[17](null)}}}const He={};function gt(t,n,i){let r,f,z,{$$slots:w={},$$scope:S}=n,{id:P=void 0}=n,{horizontal:m=!1}=n,{pushOtherPanes:g=!0}=n,{dblClickSplitter:y=!0}=n,{rtl:T="auto"}=n,{firstSplitter:V=!1}=n,{style:J=null}=n,{theme:Q="default-theme"}=n,{class:C=""}=n;const M=ct();let D,I=!1,H=!1,G=!1,K=!1,W=!1,N=-1,k=-1,q,a=new Array,F=fe(m);Z(t,F,e=>i(31,z=e));const j=fe(V);Z(t,j,e=>i(30,f=e));const A=fe(void 0);Z(t,A,e=>i(29,r=e));let _=null,U=null;ft(He,{showFirstSplitter:j,veryFirstPaneKey:A,isHorizontal:F,ssrRegisterPaneSize:void 0,onPaneInit:e=>(r===void 0&&X(A,r=e,r),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:je,onPaneRemove:Ue}});function je(e){let s=-1;Array.from(e.element.parentNode.children).some(l=>(l.className.includes("splitpanes__pane")&&s++,l===e.element)),s===0&&X(A,r=e.key,r),a.splice(s,0,e);for(let l=0;l<a.length;l++)a[l].index=l;I&&ce().then(()=>{e.isReady=!0,M("pane-add",{index:s,panes:Y()})});const o=(l,h=!0)=>d=>{(h||e.index>0)&&l(d,e)};return{onSplitterDown:o(Je,!1),onSplitterClick:o(Qe,!1),onSplitterDblClick:o(Pe),onPaneClick:o(Ye),reportGivenSizeChange:o(Xe)}}async function Ue(e){const s=a.findIndex(o=>o.key===e);if(s>=0){const o=a.splice(s,1)[0];for(let l=0;l<a.length;l++)a[l].index=l;s===0&&X(A,r=a.length>0?a[0].key:void 0,r),I&&(await ce(),M("pane-remove",{removed:o,panes:Y()}))}}function Ye(e,s){M("pane-click",s)}function Xe(e,s){s.setSz(e),ce()}Ve(()=>{ye(),we();for(let e=0;e<a.length;e++)a[e].isReady=!0;I=!0,M("ready"),setTimeout(()=>{i(6,G=!0)},0)}),Ge(()=>{I&&ze(),I=!1}),ut(()=>{ye()});function Se(e){if(T==="auto")try{return(e??ue(D)).direction==="rtl"}catch{}return T===!0}function Ze(){document.body.style.cursor=F?"col-resize":"row-resize",document.addEventListener("mousemove",te,{passive:!1}),document.addEventListener("mouseup",ne),"ontouchstart"in window&&(document.addEventListener("touchmove",te,{passive:!1}),document.addEventListener("touchend",ne))}function ze(){document.body.style.cursor="",document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne),"ontouchstart"in window&&(document.removeEventListener("touchmove",te),document.removeEventListener("touchend",ne))}const oe=e=>e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("splitpanes__splitter");function ge(e,s,o){let l=e[m?"top":"left"];return o&&!m&&(l=s-l),l}const re=()=>qe(m);function Je(e,s){i(7,K=!0),N=s.index,s.setSplitterActive(!0);let l=s.element;for(;l!=null&&(l=l.previousSibling,!oe(l)););if(l==null){console.error("Splitpane Error: Active splitter wasn't found!");return}_=l;const h=ke(e),d=de(_);U=ge(Ce(h,d),d[re()],Se()),Ze()}function te(e){if(K){e.preventDefault(),i(8,W=!0);const s=ke(e),o=ue(D),l=St(D,o),h=l[re()],d=Se(o),c=Ce(s,l),u=ge(c,h,d);et(u,h),M("resize",Y())}}function ne(){W&&M("resized",Y()),i(7,K=!1),a[N].setSplitterActive(!1),setTimeout(()=>{i(8,W=!1),ze()},100)}function Qe(e,s){if("ontouchstart"in window){e.preventDefault();const o=s.index;y&&(k===o?(q&&clearTimeout(q),q=null,Pe(e,s),k=-1):(k=o,q=setTimeout(()=>{k=-1},500)))}W||M("splitter-click",s)}function Pe(e,s){const o=s.index;let l=0;for(let c=0;c<a.length;c++){const u=a[c];c!==o&&(l+=u.min())}const h=Math.min(Math.max(0,100-l),s.max()),d=l+h;if(d>=100)for(let c=0;c<a.length;c++){const u=a[c];u!==s?u.setSz(u.min()):u.setSz(100-l)}else{let c=100-d;s.setSz(h);const u=p=>{const v=p.min(),x=p.max(),R=Math.min(Math.max(0,c),x-v);p.setSz(v+R),c-=R};for(let p=o-1;p>=0;p--)u(a[p]);for(let p=o+1;p<a.length;p++)u(a[p]);c!=0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}M("pane-maximize",s),M("resized",Y()),i(7,K=!1)}function Y(){const e=new Array(a.length);for(let s=0;s<a.length;s++){const o=a[s];e[s]={min:o.min(),max:o.max(),size:o.sz(),snap:o.snap()}}return e}function $e(e,s){const o=x=>de(x)[re()],l=o(_);let h=0,d=_.previousSibling;for(;d!=null;)oe(d)&&(h+=o(d)),d=d.previousSibling;let c=0,u=_.nextSibling;for(;u!=null;)oe(u)&&(c+=o(u)),u=u.nextSibling;const p=h+U,v=h+l+c;return(e-p)/(s-v)*100}function et(e,s){let o=N-1,l=a[o],h=N,d=a[h],c={prevPanesSize:_e(o),nextPanesSize:be(h),prevReachedMinPanes:0,nextReachedMinPanes:0};const u=0+(g?0:c.prevPanesSize),p=100-(g?0:c.nextPanesSize),v=Math.max(Math.min($e(e,s),p),u),x=c.prevPanesSize+l.min()+l.snap(),R=100-(c.nextPanesSize+d.min()+d.snap());let b=v,O=!1;v<=x?v>c.prevPanesSize+l.min()&&(b=Math.max(l.min()+c.prevPanesSize,100-(d.max()+c.nextPanesSize)),O=!0):v>=R&&v<100-c.nextPanesSize-d.min()&&(b=Math.min(100-(d.min()+c.nextPanesSize),l.max()+c.prevPanesSize),O=!0);const ie=l.max()<100&&b>=l.max()+c.prevPanesSize,ot=d.max()<100&&b<=100-(d.max()+c.nextPanesSize);if(ie||ot)ie?(l.setSz(l.max()),d.setSz(Math.max(100-l.max()-c.prevPanesSize-c.nextPanesSize,0))):(l.setSz(Math.max(100-d.max()-c.prevPanesSize-c.nextPanesSize,0)),d.setSz(d.max()));else{if(g&&!O){const Me=tt(c,b);if(!Me)return;({sums:c,paneBeforeIndex:o,paneAfterIndex:h}=Me),l=a[o],d=a[h]}o!=null&&l.setSz(Math.min(Math.max(b-c.prevPanesSize-c.prevReachedMinPanes,l.min()),l.max())),h!=null&&d.setSz(Math.min(Math.max(100-b-c.nextPanesSize-c.nextReachedMinPanes,d.min()),d.max()))}}function tt(e,s){var d,c;const o=N-1;let l=o,h=o+1;if(s<e.prevPanesSize+a[l].min()){if(l=(d=nt(o))==null?void 0:d.index,e.prevReachedMinPanes=0,l<o)for(let u=0;u<a.length;u++){const p=a[u];u>l&&u<=o&&(p.setSz(p.min()),e.prevReachedMinPanes+=p.min())}if(e.prevPanesSize=_e(l),l==null){e.prevReachedMinPanes=0,a[0].setSz(a[0].min());for(let u=0;u<a.length;u++){const p=a[u];u>0&&u<=o&&(p.setSz(p.min()),e.prevReachedMinPanes+=p.min())}return a[h].setSz(100-e.prevReachedMinPanes-a[0].min()-e.prevPanesSize-e.nextPanesSize),null}}if(s>100-e.nextPanesSize-a[h].min()){if(h=(c=it(o))==null?void 0:c.index,e.nextReachedMinPanes=0,h>o+1)for(let p=0;p<a.length;p++){const v=a[p];p>o&&p<h&&(v.setSz(v.min()),e.nextReachedMinPanes+=v.min())}e.nextPanesSize=be(h);const u=a.length;if(h==null){e.nextReachedMinPanes=0,a[u-1].setSz(a[u-1].min());for(let p=0;p<a.length;p++){const v=a[p];p<u-1&&p>=o+1&&(v.setSz(v.min()),e.nextReachedMinPanes+=v.min())}return a[l].setSz(100-e.prevPanesSize-e.nextReachedMinPanes-a[u-1].min()-e.nextPanesSize),null}}return{sums:e,paneBeforeIndex:l,paneAfterIndex:h}}const ve=e=>e.sz(),_e=e=>Re(a,0,e,ve),be=e=>Re(a,e+1,a.length,ve),nt=e=>[...a].reverse().find(s=>s.index<e&&s.sz()>s.min()),it=e=>a.find(s=>s.index>e+1&&s.sz()>s.min());async function ce(){H=!0,await dt(),H&&(we(),H=!1)}function we(){st(),I&&M("resized",Y())}function st(){if(a.length===0)return;const e=a.length;let s=100,o=0,l=0,h=0,d=[],c=[];for(let R=0;R<e;R++){const b=a[R],O=b.sz();b.givenSize==null?b.isReady?(h+=O,O>=b.max()&&d.push(b),O<=b.min()&&c.push(b)):l+=1:(s-=O,o++,d.push(b),c.push(b))}const u=e-o,p=u-l;let v,x;if(p>0?(v=h/p,v>.1&&s>.1?(h+=l*v,x=s/h):(v=0,x=1)):(v=s/u,x=1),s+h>.1){s=100;for(let R=0;R<e;R++){const b=a[R];if(b.givenSize==null){const O=b.isReady?b.sz():v,ie=Math.max(Math.min(O*x,b.max()),b.min());b.setSz(ie)}s-=b.sz()}Math.abs(s)>.1&&(s=lt(s,d,c))}isFinite(s)?Math.abs(s)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function lt(e,s,o){const h=a.length-(e>0?s.length:o.length);if(h<=0)return e;const d=e/h;if(a.length===1)a[0].setSz(100),e=0;else for(let c=0;c<a.length;c++){const u=a[c],p=u.sz();if(e>0&&!s.includes(u)){const v=Math.max(Math.min(p+d,u.max()),u.min()),x=v-p;e-=x,u.setSz(v)}else if(!o.includes(u)){const v=Math.max(Math.min(p+d,u.max()),u.min()),x=v-p;e-=x,u.setSz(v)}}return e}function ye(){var l;const{children:e}=D;let s=0,o=!1;for(let h=0;h<e.length;h++){const d=e.item(h),c=d.classList.contains("splitpanes__pane"),u=d.classList.contains("splitpanes__splitter");if(!c&&!u){(l=d.parentNode)==null||l.removeChild(d),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else c&&(!o&&a[s].element!==d&&(o=!0),s++)}if(o){const h=[];for(let d=0;d<e.length;d++){const c=e.item(d);if(c.classList.contains("splitpanes__pane")){const p=a.find(v=>v.element===c);p!=null?(p.index=h.length,h.push(p)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}a=h,X(A,r=a.length>0?a[0].key:void 0,r)}}function at(e){We[e?"unshift":"push"](()=>{D=e,i(5,D)})}return t.$$set=e=>{"id"in e&&i(0,P=e.id),"horizontal"in e&&i(1,m=e.horizontal),"pushOtherPanes"in e&&i(12,g=e.pushOtherPanes),"dblClickSplitter"in e&&i(13,y=e.dblClickSplitter),"rtl"in e&&i(14,T=e.rtl),"firstSplitter"in e&&i(15,V=e.firstSplitter),"style"in e&&i(2,J=e.style),"theme"in e&&i(3,Q=e.theme),"class"in e&&i(4,C=e.class),"$$scope"in e&&i(18,S=e.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2&&X(F,z=m,z),t.$$.dirty[0]&32768&&X(j,f=V,f)},[P,m,J,Q,C,D,G,K,W,F,j,A,g,y,T,V,w,at,S]}class xt extends De{constructor(n){super(),Ie(this,n,gt,zt,Ne,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const Pt=(t,n)=>i=>{const r=t();r!=null&&r[n](i)},vt=t=>Pt.bind(null,t);function _t(t){let n,i,r,f,z,w,S=(t[4]!==t[9]||t[5])&&Ee(t);const P=t[20].default,m=Oe(P,t,t[19],null);return{c(){S&&S.c(),n=Ae(),i=pe("div"),m&&m.c(),this.h()},l(g){S&&S.l(g),n=Fe(g),i=he(g,"DIV",{class:!0,style:!0});var y=me(i);m&&m.l(y),y.forEach(L),this.h()},h(){E(i,"class",r=`splitpanes__pane ${t[0]||""}`),E(i,"style",t[3])},m(g,y){S&&S.m(g,y),ee(g,n,y),ee(g,i,y),m&&m.m(i,null),t[21](i),f=!0,z||(w=$(i,"click",t[11]("onPaneClick")),z=!0)},p(g,y){g[4]!==g[9]||g[5]?S?S.p(g,y):(S=Ee(g),S.c(),S.m(n.parentNode,n)):S&&(S.d(1),S=null),m&&m.p&&(!f||y&524288)&&Be(m,P,g,g[19],f?Te(P,g[19],y,null):Le(g[19]),null),(!f||y&1&&r!==(r=`splitpanes__pane ${g[0]||""}`))&&E(i,"class",r),(!f||y&8)&&E(i,"style",g[3])},i(g){f||(le(m,g),f=!0)},o(g){ae(m,g),f=!1},d(g){S&&S.d(g),g&&L(n),g&&L(i),m&&m.d(g),t[21](null),z=!1,w()}}}function Ee(t){let n,i,r,f;return{c(){n=pe("div"),this.h()},l(z){n=he(z,"DIV",{class:!0}),me(n).forEach(L),this.h()},h(){E(n,"class",i="splitpanes__splitter "+(t[2]?"splitpanes__splitter__active":""))},m(z,w){ee(z,n,w),r||(f=[$(n,"mousedown",t[11]("onSplitterDown")),$(n,"touchstart",t[11]("onSplitterDown")),$(n,"click",t[11]("onSplitterClick")),$(n,"dblclick",t[11]("onSplitterDblClick"))],r=!0)},p(z,w){w&4&&i!==(i="splitpanes__splitter "+(z[2]?"splitpanes__splitter__active":""))&&E(n,"class",i)},d(z){z&&L(n),r=!1,ht(f)}}}function bt(t){let n,i,r=!t[10]&&_t(t);return{c(){r&&r.c(),n=xe()},l(f){r&&r.l(f),n=xe()},m(f,z){r&&r.m(f,z),ee(f,n,z),i=!0},p(f,[z]){f[10]||r.p(f,z)},i(f){i||(le(r),i=!0)},o(f){ae(r),i=!1},d(f){r&&r.d(f),f&&L(n)}}}function wt(t,n,i){let r,f,z,w,S,{$$slots:P={},$$scope:m}=n;const{ssrRegisterPaneSize:g,onPaneInit:y,clientOnly:T,isHorizontal:V,showFirstSplitter:J,veryFirstPaneKey:Q}=pt(He);Z(t,V,_=>i(18,z=_)),Z(t,J,_=>i(5,S=_)),Z(t,Q,_=>i(4,w=_));let{size:C=null}=n,{minSize:M=0}=n,{maxSize:D=100}=n,{snapSize:I=0}=n,{class:H=""}=n;const G={},K=!Ke,{undefinedPaneInitSize:W}=y(G);let N,k=C??W,q=!1,a;const F=vt(()=>a),j=_=>{_!=k&&F("reportGivenSizeChange")(_)};Ve(()=>{const _={key:G,element:N,givenSize:C,sz:()=>k,setSz:U=>{i(16,k=U),C!=null&&C!=k&&i(12,C=k)},min:()=>M,max:()=>D,snap:()=>I,setSplitterActive:U=>{i(2,q=U)},isReady:!1};a=T.onPaneAdd(_)}),Ge(()=>{T.onPaneRemove(G)});function A(_){We[_?"unshift":"push"](()=>{N=_,i(1,N)})}return t.$$set=_=>{"size"in _&&i(12,C=_.size),"minSize"in _&&i(13,M=_.minSize),"maxSize"in _&&i(14,D=_.maxSize),"snapSize"in _&&i(15,I=_.snapSize),"class"in _&&i(0,H=_.class),"$$scope"in _&&i(19,m=_.$$scope)},t.$$.update=()=>{t.$$.dirty&4096&&C!=null&&j(C),t.$$.dirty&262144&&i(17,r=qe(z)),t.$$.dirty&196608&&i(3,f=`${r}: ${k}%;`)},[H,N,q,f,w,S,V,J,Q,G,K,F,C,M,D,I,k,r,z,m,P,A]}class Ct extends De{constructor(n){super(),Ie(this,n,wt,bt,Ne,{size:12,minSize:13,maxSize:14,snapSize:15,class:0})}}export{Ct as P,xt as S};
