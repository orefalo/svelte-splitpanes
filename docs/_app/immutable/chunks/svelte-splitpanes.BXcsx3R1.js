import{p as ke,s as Ye,i as Ne,c as Ie,f as he,a as me,b as Z,d as Fe,e as Je,g as y,h as mt,w as ye,o as Xe,j as Ze,k as St,l as se,m as Qe,n as _e,q as $e,t as we,r as Ae,u as X,v as E,x as u,B as et,y as tt,z as vt,A as nt,C as it,D as pe,E as F,F as Me,G as be,H as Re,I as de,J as zt,K as ne,L as ie}from"./external.BXd5N0FW.js";const gt={};function Pt(d,l){ke(l,!1),Ye(gt,!0),Ne();var p=Ie(),h=he(p);me(h,l,"default",{}),Z(d,p),Fe()}function fe(d){if(!(d!=null&&d.endsWith("px")))return;const l=parseFloat(d.slice(0,d.length-2));return isNaN(l)?void 0:l}const st=d=>d?"height":"width",Ee=d=>window.getComputedStyle(d),De=d=>d.getBoundingClientRect(),xt=(d,l=!0)=>{if(d.getPropertyValue("box-sizing")==="border-box")return;const p=fe(d.getPropertyValue("border-left-width"));if(p===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const h=fe(d.getPropertyValue("border-top-width"));if(h===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const g={left:p,top:h};if(l){const z=fe(d.getPropertyValue("border-right-width"));if(z===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const k=fe(d.getPropertyValue("border-bottom-width"));if(k===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const A=g;A.right=z,A.bottom=k}return g};function yt(d,l){l||(l=Ee(d));const p=De(d),h=xt(l,!0)||{left:0,top:0,right:0,bottom:0};return{width:p.width-h.left-h.right,height:p.height-h.top-h.bottom,left:p.left+h.left,top:p.top+h.top}}const We=(d,l)=>({left:d.left-l.left,top:d.top-l.top});function je(d){const l=d,p=d,{clientX:h,clientY:g}="ontouchstart"in window&&p.touches?p.touches[0]:l;return{left:h,top:g}}function qe(d,l,p,h){let g=0;for(let z=l;z<p;z++)g+=h(d[z],z);return g}function ue(d,l,p,h){for(let g=l;g<p;g++)h(d[g],g)}const ot={},Ue=(()=>{let d=!1;try{const l=Object.defineProperty({},"passive",{get(){return d={passive:!0},!0}});window.addEventListener("testpassive",l,l),window.remove("testpassive",l,l)}catch{}return d})();var _t=Ae("<div><!> <!></div>");function Dt(d,l){ke(l,!1);const p=Je(),h=()=>pe(m,"$veryFirstPaneKey",p);let g=y(l,"id",8,void 0),z=y(l,"horizontal",8,!1),k=y(l,"pushOtherPanes",8,!0),A=y(l,"dblClickSplitter",8,!0),Se=y(l,"rtl",8,"auto"),Q=y(l,"firstSplitter",8,!1),L=y(l,"style",8,null),ve=y(l,"theme",8,"default-theme"),ze=y(l,"class",8,"");const M=mt();let P=F(),B=!1,$=!1,oe=F(!1),H=F(!1),N=F(!1),V=-1,j=-1,O,i=new Array;const q=ye(z()),U=ye(Q()),m=ye(void 0);let W,ee;Ye(ot,{showFirstSplitter:U,veryFirstPaneKey:m,isHorizontal:q,ssrRegisterPaneSize:void 0,onPaneInit:e=>(h()===void 0&&X(m,e),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:C,onPaneRemove:K}});function C(e){let n=-1;e.element.parentNode&&Array.from(e.element.parentNode.children).some(t=>(t.className.includes("splitpanes__pane")&&(n+=1),t===e.element)),n===0&&X(m,e.key),i.splice(n,0,e);for(let t=0;t<i.length;(t+=1)-1)i[t].index=t;B&&xe().then(()=>{e.isReady=!0,M("pane-add",{index:n,panes:J()})});const o=(t,c=!0)=>r=>{(c||e.index>0)&&t(r,e)};return{onSplitterDown:o(Pe,!1),onSplitterClick:o(w,!1),onSplitterDblClick:o(Be),onPaneClick:o(ae),reportGivenSizeChange:o(G)}}async function K(e){const n=i.findIndex(o=>o.key===e);if(n>=0){const o=i.splice(n,1)[0];for(let t=0;t<i.length;(t+=1)-1)i[t].index=t;n===0&&X(m,i.length>0?i[0].key:void 0),B&&(await xe(),M("pane-remove",{removed:o,panes:J()}))}}function ae(e,n){M("pane-click",n)}function G(e,n){n.setSz(e),xe()}Xe(()=>{Te(),Ge();for(let e=0;e<i.length;(e+=1)-1)i[e].isReady=!0;B=!0,M("ready"),setTimeout(()=>{E(oe,!0)},0)}),Ze(()=>{B&&T(),B=!1}),St(()=>{Te()});function re(e){if(Se()==="auto")try{return(e??Ee(u(P))).direction==="rtl"}catch{}return Se()===!0}function ge(){document.body.style.cursor=q?"col-resize":"row-resize",document.addEventListener("mousemove",Y,Ue),document.addEventListener("mouseup",b),"ontouchstart"in window&&(document.addEventListener("touchmove",Y,Ue),document.addEventListener("touchend",b))}function T(){document.body.style.cursor="",document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",b),"ontouchstart"in window&&(document.removeEventListener("touchmove",Y),document.removeEventListener("touchend",b))}const _=e=>e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("splitpanes__splitter");function le(e,n,o){let t=e[z()?"top":"left"];return o&&!z()&&(t=n-t),t}const te=()=>st(z());function Pe(e,n){E(H,!0),V=n.index,n.setSplitterActive(!0);let t=n.element;for(;t&&(t=t.previousSibling,!(t&&_(t))););if(t===null){console.error("Splitpane Error: Active splitter wasn't found!");return}W=t;const c=je(e),r=De(W);ee=le(We(c,r),r[te()],re()),ge()}function Y(e){if(u(H)){E(N,!0);const n=je(e),o=Ee(u(P)),t=yt(u(P),o),c=t[te()],r=re(o),s=We(n,t),a=le(s,c,r);rt(a,c),M("resize",J())}}function b(){u(N)&&M("resized",J()),E(H,!1),i[V].setSplitterActive(!1),setTimeout(()=>{E(N,!1),T()},100)}function w(e,n){if("ontouchstart"in window){const o=n.index;A()&&(j===o?(O&&clearTimeout(O),O=null,Be(e,n),j=-1):(j=o,O=setTimeout(()=>{j=-1},500)))}u(N)||M("splitter-click",n)}function Be(e,n){if(A()){const o=n.index;let t=0;for(let s=0;s<i.length;(s+=1)-1){const a=i[s];s!==o&&(t+=a.min())}const c=Math.min(Math.max(0,100-t),n.max()),r=t+c;if(r>=100)for(let s=0;s<i.length;(s+=1)-1){const a=i[s];a!==n?a.setSz(a.min()):a.setSz(100-t)}else{let s=100-r;n.setSz(c);const a=f=>{const S=f.min(),x=f.max(),R=Math.min(Math.max(0,s),x-S);f.setSz(S+R),s-=R};for(let f=o-1;f>=0;(f-=1)+1)a(i[f]);for(let f=o+1;f<i.length;(f+=1)-1)a(i[f]);s!==0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}M("pane-maximize",n),M("resized",J())}E(H,!1)}const J=()=>i.map(e=>({min:e.min(),max:e.max(),size:e.sz(),snap:e.snap()}));function at(e,n){const o=x=>De(x)[te()],t=o(W);let c=0,r=W.previousSibling;for(;r;)_(r)&&(c+=o(r)),r=r.previousSibling;let s=0,a=W.nextSibling;for(;a;)_(a)&&(s+=o(a)),a=a.nextSibling;const f=c+ee,S=c+t+s;return(e-f)/(n-S)*100}function rt(e,n){let o=V-1,t=i[o],c=V,r=i[c],s={prevPanesSize:Ce(o),nextPanesSize:Ke(c),prevReachedMinPanes:0,nextReachedMinPanes:0};const a=0+(k()?0:s.prevPanesSize),f=100-(k()?0:s.nextPanesSize),S=Math.max(Math.min(at(e,n),f),a),x=s.prevPanesSize+t.min()+t.snap(),R=100-(s.nextPanesSize+r.min()+r.snap());let v=S,I=!1;S<=x?S>s.prevPanesSize+t.min()&&(v=Math.max(t.min()+s.prevPanesSize,100-(r.max()+s.nextPanesSize)),I=!0):S>=R&&S<100-s.nextPanesSize-r.min()&&(v=Math.min(100-(r.min()+s.nextPanesSize),t.max()+s.prevPanesSize),I=!0);const ce=t.max()<100&&v>=t.max()+s.prevPanesSize,ht=r.max()<100&&v<=100-(r.max()+s.nextPanesSize);if(ce||ht)ce?(t.setSz(t.max()),r.setSz(Math.max(100-t.max()-s.prevPanesSize-s.nextPanesSize,0))):(t.setSz(Math.max(100-r.max()-s.prevPanesSize-s.nextPanesSize,0)),r.setSz(r.max()));else{if(k()&&!I){const Ve=lt(s,v);if(!Ve)return;({sums:s,paneBeforeIndex:o,paneAfterIndex:c}=Ve),t=i[o],r=i[c]}typeof o=="number"&&t.setSz(Math.min(Math.max(v-s.prevPanesSize-s.prevReachedMinPanes,t.min()),t.max())),typeof c=="number"&&r.setSz(Math.min(Math.max(100-v-s.nextPanesSize-s.nextReachedMinPanes,r.min()),r.max()))}}function lt(e,n){var r,s;const o=V-1;let t=o,c=o+1;if(n<e.prevPanesSize+i[t].min()){if(t=(r=ct(o))==null?void 0:r.index,e.prevReachedMinPanes=0,t===void 0)return e.prevPanesSize=0,i[0].setSz(i[0].min()),ue(i,1,o+1,a=>{a.setSz(a.min()),e.prevReachedMinPanes+=a.min()}),i[c].setSz(100-e.prevReachedMinPanes-i[0].min()-e.prevPanesSize-e.nextPanesSize),null;t<o&&ue(i,t+1,o+1,a=>{a.setSz(a.min()),e.prevReachedMinPanes+=a.min()}),e.prevPanesSize=Ce(t)}if(n>100-e.nextPanesSize-i[c].min())if(c=(s=dt(o))==null?void 0:s.index,t===void 0&&console.log("Yep undefined paneAfterIndex"),e.nextReachedMinPanes=0,c===void 0){e.nextPanesSize=0;const a=i.length;return i[a-1].setSz(i[a-1].min()),ue(i,o+1,a-1,f=>{f.setSz(f.min()),e.nextReachedMinPanes+=f.min()}),i[t].setSz(100-e.prevPanesSize-e.nextReachedMinPanes-i[a-1].min()-e.nextPanesSize),null}else c>o+1&&ue(i,o+1,c,a=>{a.setSz(a.min()),e.nextReachedMinPanes+=a.min()}),e.nextPanesSize=Ke(c);return{sums:e,paneBeforeIndex:t,paneAfterIndex:c}}const Oe=e=>e.sz(),Ce=e=>qe(i,0,e,Oe),Ke=e=>qe(i,e+1,i.length,Oe),ct=e=>[...i].reverse().find(n=>n.index<e&&n.sz()>n.min()),dt=e=>i.find(n=>n.index>e+1&&n.sz()>n.min());async function xe(){$=!0,await vt(),$&&(Ge(),$=!1)}function Ge(){ft(),B&&M("resized",J())}function ft(){if(i.length===0)return;const e=i.length;let n=100,o=0,t=0,c=0;const r=[],s=[];for(let R=0;R<e;(R+=1)-1){const v=i[R],I=v.sz();v.givenSize===null?v.isReady?(c+=I,I>=v.max()&&r.push(v),I<=v.min()&&s.push(v)):t+=1:(n-=I,o+=1,r.push(v),s.push(v))}const a=e-o,f=a-t;let S,x;if(f>0?(S=c/f,S>.1&&n>.1?(c+=t*S,x=n/c):(S=0,x=1)):(S=n/a,x=1),n+c>.1){n=100;for(let R=0;R<e;(R+=1)-1){const v=i[R];if(typeof v.givenSize!="number"){const I=v.isReady?v.sz():S,ce=Math.max(Math.min(I*x,v.max()),v.min());v.setSz(ce)}n-=v.sz()}Math.abs(n)>.1&&(n=ut(n,r,s))}isFinite(n)?Math.abs(n)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function ut(e,n,o){const c=i.length-(e>0?n.length:o.length);if(c<=0)return e;const r=e/c;if(i.length===1)i[0].setSz(100),e=0;else for(let s=0;s<i.length;(s+=1)-1){const a=i[s],f=a.sz();if(e>0&&!n.includes(a)){const S=Math.max(Math.min(f+r,a.max()),a.min()),x=S-f;e-=x,a.setSz(S)}else if(!o.includes(a)){const S=Math.max(Math.min(f+r,a.max()),a.min()),x=S-f;e-=x,a.setSz(S)}}return e}function Te(){var t;if(!u(P))return;const{children:e}=u(P);let n=0,o=!1;for(let c=0;c<e.length;(c+=1)-1){const r=e.item(c),s=r.classList.contains("splitpanes__pane"),a=r.classList.contains("splitpanes__splitter");if(!s&&!a){(t=r.parentNode)==null||t.removeChild(r),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else s&&(!o&&i[n].element!==r&&(o=!0),n+=1)}if(o){const c=[];for(let r=0;r<e.length;(r+=1)-1){const s=e.item(r);if(s==null?void 0:s.classList.contains("splitpanes__pane")){const f=i.find(S=>S.element===s);f?(f.index=c.length,c.push(f)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}i=c,X(m,i.length>0?i[0].key:void 0)}}se(()=>Me(z()),()=>{X(q,z())}),se(()=>Me(Q()),()=>{X(U,Q())}),Qe(),Ne();var D=_t(),He=nt(D);_e(He,()=>!et,e=>{Pt(e,{children:(n,o)=>{var t=Ie(),c=he(t);me(c,l,"default",{}),Z(n,t)},$$slots:{default:!0}})});var pt=tt(He,2);me(pt,l,"default",{}),it(D),$e(D,e=>E(P,e),()=>u(P)),we(()=>{be(D,"id",g()),Re(D,`splitpanes ${ve()||""} ${ze()||""}`),be(D,"style",L()),de(D,"splitpanes--horizontal",z()),de(D,"splitpanes--vertical",!z()),de(D,"splitpanes--dragging",u(H)||u(N)),de(D,"splitpanes--freeze",!u(oe))}),Z(d,D),Fe()}const wt=(d,l)=>p=>{const h=d();h!==null&&h[l](p)},Mt=d=>wt.bind(null,d);var bt=Ae("<div></div>"),Rt=Ae("<!>   <div><!></div>",1);function kt(d,l){ke(l,!1);const p=Je(),h=()=>pe(ve,"$isHorizontal",p),g=()=>pe(M,"$veryFirstPaneKey",p),z=()=>pe(ze,"$showFirstSplitter",p),k=F(),A=F(),{ssrRegisterPaneSize:Se,onPaneInit:Q,clientOnly:L,isHorizontal:ve,showFirstSplitter:ze,veryFirstPaneKey:M}=zt(ot);let P=y(l,"size",12,null),B=y(l,"minSize",8,0),$=y(l,"maxSize",8,100),oe=y(l,"snapSize",8,0),H=y(l,"class",8,"");const N={},V=!et,{undefinedPaneInitSize:j}=Q(N);let O=F(),i=F(P()??j),q=F(!1),U;const m=Mt(()=>U),W=C=>{U&&C!=u(i)&&(m==null||m("reportGivenSizeChange")(C))};Xe(()=>{const C={index:0,key:N,element:u(O),givenSize:P(),sz:()=>u(i),setSz:K=>{E(i,K),typeof P()=="number"&&P()!==u(i)&&P(u(i))},min:()=>B(),max:()=>$(),snap:()=>oe(),setSplitterActive:K=>{E(q,K)},isReady:!1};U=L==null?void 0:L.onPaneAdd(C)}),Ze(()=>{L==null||L.onPaneRemove(N)}),se(()=>Me(P()),()=>{typeof P()=="number"&&W(P())}),se(()=>h(),()=>{E(k,st(h()))}),se(()=>(u(k),u(i)),()=>{E(A,`${u(k)}: ${u(i)}%;`)}),Qe(),Ne();var ee=Ie(),Le=he(ee);_e(Le,()=>!V,C=>{var K=Rt(),ae=he(K);_e(ae,()=>g()!==N||z(),T=>{var _=bt(),le=ie(()=>m==null?void 0:m("onSplitterDown")),te=ie(()=>m==null?void 0:m("onSplitterDown")),Pe=ie(()=>m==null?void 0:m("onSplitterClick")),Y=ie(()=>m==null?void 0:m("onSplitterDblClick"));we(()=>Re(_,`splitpanes__splitter ${(u(q)?"splitpanes__splitter__active":"")??""}`)),ne("mousedown",_,function(...b){var w;(w=u(le))==null||w.apply(this,b)}),ne("touchstart",_,function(...b){var w;(w=u(te))==null||w.apply(this,b)}),ne("click",_,function(...b){var w;(w=u(Pe))==null||w.apply(this,b)}),ne("dblclick",_,function(...b){var w;(w=u(Y))==null||w.apply(this,b)}),Z(T,_)});var G=tt(ae,2),re=ie(()=>m==null?void 0:m("onPaneClick")),ge=nt(G);me(ge,l,"default",{}),it(G),$e(G,T=>E(O,T),()=>u(O)),we(()=>{Re(G,`splitpanes__pane ${H()||""}`),be(G,"style",u(A))}),ne("click",G,function(...T){var _;(_=u(re))==null||_.apply(this,T)}),Z(C,K)}),Z(d,ee),Fe()}export{kt as P,Dt as S};
