import{S as Ne,i as Ae,s as Fe,c as Be,e as he,a as Le,b as pe,d as Se,f as Oe,g as T,h as D,t as O,j as ee,k as ft,u as Te,l as Ve,m as Ge,n as le,o as re,p as ut,q as Z,r as dt,v as Ke,w as We,x as mt,y as X,B as je,z as ue,A as ht,C as qe,D as ke,E as pt,F as $,G as St}from"./external.DDdhX-Re.js";function se(n){if(!(n!=null&&n.endsWith("px")))return;const t=parseFloat(n.slice(0,n.length-2));return isNaN(t)?void 0:t}const He=n=>n?"height":"width",de=n=>window.getComputedStyle(n),me=n=>n.getBoundingClientRect(),zt=(n,t=!0)=>{if(n.getPropertyValue("box-sizing")==="border-box")return;const i=se(n.getPropertyValue("border-left-width"));if(i===void 0){console.error("Splitpanes Error: Fail to parse container `border-left-width`.");return}const r=se(n.getPropertyValue("border-top-width"));if(r===void 0){console.error("Splitpanes Error: Fail to parse container `border-top-width`.");return}const c={left:i,top:r};if(t){const S=se(n.getPropertyValue("border-right-width"));if(S===void 0){console.error("Splitpanes Error: Fail to parse container `border-right-width`.");return}const y=se(n.getPropertyValue("border-bottom-width"));if(y===void 0){console.error("Splitpanes Error: Fail to parse container `border-bottom-width`.");return}const p=c;p.right=S,p.bottom=y}return c};function Pt(n,t){t||(t=de(n));const i=me(n),r=zt(t,!0)||{left:0,top:0,right:0,bottom:0};return{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,left:i.left+r.left,top:i.top+r.top}}const Ee=(n,t)=>({left:n.left-t.left,top:n.top-t.top});function Ce(n){const t=n,i=n,{clientX:r,clientY:c}="ontouchstart"in window&&i.touches?i.touches[0]:t;return{left:r,top:c}}function Re(n,t,i,r){let c=0;for(let S=t;S<i;S++)c+=r(n[S],S);return c}function oe(n,t,i,r){for(let c=t;c<i;c++)r(n[c],c)}function gt(n){let t,i,r,c,S=!je;const y=n[16].default,p=Be(y,n,n[18],null);return{c(){t=he("div"),i=Le(),p&&p.c(),this.h()},l(P){t=pe(P,"DIV",{id:!0,class:!0,style:!0});var h=Se(t);i=Oe(h),p&&p.l(h),h.forEach(T),this.h()},h(){D(t,"id",n[0]),D(t,"class",r=`splitpanes ${n[3]||""} ${n[4]||""}`),D(t,"style",n[2]),O(t,"splitpanes--horizontal",n[1]),O(t,"splitpanes--vertical",!n[1]),O(t,"splitpanes--dragging",n[7]||n[8]),O(t,"splitpanes--freeze",!n[6])},m(P,h){ee(P,t,h),ft(t,i),p&&p.m(t,null),n[17](t),c=!0},p(P,h){p&&p.p&&(!c||h[0]&262144)&&Te(p,y,P,P[18],c?Ge(y,P[18],h,null):Ve(P[18]),null),(!c||h[0]&1)&&D(t,"id",P[0]),(!c||h[0]&24&&r!==(r=`splitpanes ${P[3]||""} ${P[4]||""}`))&&D(t,"class",r),(!c||h[0]&4)&&D(t,"style",P[2]),(!c||h[0]&26)&&O(t,"splitpanes--horizontal",P[1]),(!c||h[0]&26)&&O(t,"splitpanes--vertical",!P[1]),(!c||h[0]&408)&&O(t,"splitpanes--dragging",P[7]||P[8]),(!c||h[0]&88)&&O(t,"splitpanes--freeze",!P[6])},i(P){c||(le(S),le(p,P),c=!0)},o(P){re(S),re(p,P),c=!1},d(P){P&&T(t),p&&p.d(P),n[17](null)}}}const Ue={},De=(()=>{let n=!1;try{const t=Object.defineProperty({},"passive",{get(){return n={passive:!0},!0}});window.addEventListener("testpassive",t,t),window.remove("testpassive",t,t)}catch{}return n})();function vt(n,t,i){let r,c,S,{$$slots:y={},$$scope:p}=t,{id:P=void 0}=t,{horizontal:h=!1}=t,{pushOtherPanes:z=!0}=t,{dblClickSplitter:w=!0}=t,{rtl:I="auto"}=t,{firstSplitter:V=!1}=t,{style:J=null}=t,{theme:Q="default-theme"}=t,{class:k=""}=t;const M=ut();let E,N=!1,q=!1,G=!1,K=!1,W=!1,A=-1,C=-1,j,l=new Array;const L=ue(h);Z(n,L,e=>i(31,S=e));const H=ue(V);Z(n,H,e=>i(30,c=e));const B=ue(void 0);Z(n,B,e=>i(29,r=e));let g,U;dt(Ue,{showFirstSplitter:H,veryFirstPaneKey:B,isHorizontal:L,ssrRegisterPaneSize:void 0,onPaneInit:e=>(r===void 0&&X(B,r=e,r),{undefinedPaneInitSize:0}),clientOnly:{onPaneAdd:Ye,onPaneRemove:Xe}});function Ye(e){let o=-1;e.element.parentNode&&Array.from(e.element.parentNode.children).some(s=>(s.className.includes("splitpanes__pane")&&o++,s===e.element)),o===0&&X(B,r=e.key,r),l.splice(o,0,e);for(let s=0;s<l.length;s++)l[s].index=s;N&&fe().then(()=>{e.isReady=!0,M("pane-add",{index:o,panes:Y()})});const f=(s,m=!0)=>d=>{(m||e.index>0)&&s(d,e)};return{onSplitterDown:f($e,!1),onSplitterClick:f(et,!1),onSplitterDblClick:f(ve),onPaneClick:f(Ze),reportGivenSizeChange:f(Je)}}async function Xe(e){const o=l.findIndex(f=>f.key===e);if(o>=0){const f=l.splice(o,1)[0];for(let s=0;s<l.length;s++)l[s].index=s;o===0&&X(B,r=l.length>0?l[0].key:void 0,r),N&&(await fe(),M("pane-remove",{removed:f,panes:Y()}))}}function Ze(e,o){M("pane-click",o)}function Je(e,o){o.setSz(e),fe()}Ke(()=>{Me(),ye();for(let e=0;e<l.length;e++)l[e].isReady=!0;N=!0,M("ready"),setTimeout(()=>{i(6,G=!0)},0)}),We(()=>{N&&Pe(),N=!1}),mt(()=>{Me()});function ze(e){if(I==="auto")try{return(e??de(E)).direction==="rtl"}catch{}return I===!0}function Qe(){document.body.style.cursor=L?"col-resize":"row-resize",document.addEventListener("mousemove",te,De),document.addEventListener("mouseup",ne),"ontouchstart"in window&&(document.addEventListener("touchmove",te,De),document.addEventListener("touchend",ne))}function Pe(){document.body.style.cursor="",document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne),"ontouchstart"in window&&(document.removeEventListener("touchmove",te),document.removeEventListener("touchend",ne))}const ae=e=>e.nodeType===Node.ELEMENT_NODE&&e.classList.contains("splitpanes__splitter");function ge(e,o,f){let s=e[h?"top":"left"];return f&&!h&&(s=o-s),s}const ce=()=>He(h);function $e(e,o){i(7,K=!0),A=o.index,o.setSplitterActive(!0);let s=o.element;for(;s&&(s=s.previousSibling,!(s&&ae(s))););if(s===null){console.error("Splitpane Error: Active splitter wasn't found!");return}g=s;const m=Ce(e),d=me(g);U=ge(Ee(m,d),d[ce()],ze()),Qe()}function te(e){if(K){i(8,W=!0);const o=Ce(e),f=de(E),s=Pt(E,f),m=s[ce()],d=ze(f),a=Ee(o,s),u=ge(a,m,d);nt(u,m),M("resize",Y())}}function ne(){W&&M("resized",Y()),i(7,K=!1),l[A].setSplitterActive(!1),setTimeout(()=>{i(8,W=!1),Pe()},100)}function et(e,o){if("ontouchstart"in window){const f=o.index;w&&(C===f?(j&&clearTimeout(j),j=null,ve(e,o),C=-1):(C=f,j=setTimeout(()=>{C=-1},500)))}W||M("splitter-click",o)}function ve(e,o){if(w){const f=o.index;let s=0;for(let a=0;a<l.length;a++){const u=l[a];a!==f&&(s+=u.min())}const m=Math.min(Math.max(0,100-s),o.max()),d=s+m;if(d>=100)for(let a=0;a<l.length;a++){const u=l[a];u!==o?u.setSz(u.min()):u.setSz(100-s)}else{let a=100-d;o.setSz(m);const u=v=>{const _=v.min(),x=v.max(),R=Math.min(Math.max(0,a),x-_);v.setSz(_+R),a-=R};for(let v=f-1;v>=0;v--)u(l[v]);for(let v=f+1;v<l.length;v++)u(l[v]);a!==0&&console.warn("Splitpanes: there is a left spare size after computation of splitter double click, which means there are issues on the size constains of the panes.")}M("pane-maximize",o),M("resized",Y())}i(7,K=!1)}const Y=()=>l.map(e=>({min:e.min(),max:e.max(),size:e.sz(),snap:e.snap()}));function tt(e,o){const f=x=>me(x)[ce()],s=f(g);let m=0,d=g.previousSibling;for(;d;)ae(d)&&(m+=f(d)),d=d.previousSibling;let a=0,u=g.nextSibling;for(;u;)ae(u)&&(a+=f(u)),u=u.nextSibling;const v=m+U,_=m+s+a;return(e-v)/(o-_)*100}function nt(e,o){let f=A-1,s=l[f],m=A,d=l[m],a={prevPanesSize:be(f),nextPanesSize:we(m),prevReachedMinPanes:0,nextReachedMinPanes:0};const u=0+(z?0:a.prevPanesSize),v=100-(z?0:a.nextPanesSize),_=Math.max(Math.min(tt(e,o),v),u),x=a.prevPanesSize+s.min()+s.snap(),R=100-(a.nextPanesSize+d.min()+d.snap());let b=_,F=!1;_<=x?_>a.prevPanesSize+s.min()&&(b=Math.max(s.min()+a.prevPanesSize,100-(d.max()+a.nextPanesSize)),F=!0):_>=R&&_<100-a.nextPanesSize-d.min()&&(b=Math.min(100-(d.min()+a.nextPanesSize),s.max()+a.prevPanesSize),F=!0);const ie=s.max()<100&&b>=s.max()+a.prevPanesSize,ct=d.max()<100&&b<=100-(d.max()+a.nextPanesSize);if(ie||ct)ie?(s.setSz(s.max()),d.setSz(Math.max(100-s.max()-a.prevPanesSize-a.nextPanesSize,0))):(s.setSz(Math.max(100-d.max()-a.prevPanesSize-a.nextPanesSize,0)),d.setSz(d.max()));else{if(z&&!F){const xe=it(a,b);if(!xe)return;({sums:a,paneBeforeIndex:f,paneAfterIndex:m}=xe),s=l[f],d=l[m]}typeof f=="number"&&s.setSz(Math.min(Math.max(b-a.prevPanesSize-a.prevReachedMinPanes,s.min()),s.max())),typeof m=="number"&&d.setSz(Math.min(Math.max(100-b-a.nextPanesSize-a.nextReachedMinPanes,d.min()),d.max()))}}function it(e,o){var d,a;const f=A-1;let s=f,m=f+1;if(o<e.prevPanesSize+l[s].min()){if(s=(d=st(f))==null?void 0:d.index,e.prevReachedMinPanes=0,s===void 0)return e.prevPanesSize=0,l[0].setSz(l[0].min()),oe(l,1,f+1,u=>{u.setSz(u.min()),e.prevReachedMinPanes+=u.min()}),l[m].setSz(100-e.prevReachedMinPanes-l[0].min()-e.prevPanesSize-e.nextPanesSize),null;s<f&&oe(l,s+1,f+1,u=>{u.setSz(u.min()),e.prevReachedMinPanes+=u.min()}),e.prevPanesSize=be(s)}if(o>100-e.nextPanesSize-l[m].min())if(m=(a=ot(f))==null?void 0:a.index,s===void 0&&console.log("Yep undefined paneAfterIndex"),e.nextReachedMinPanes=0,m===void 0){e.nextPanesSize=0;const u=l.length;return l[u-1].setSz(l[u-1].min()),oe(l,f+1,u-1,v=>{v.setSz(v.min()),e.nextReachedMinPanes+=v.min()}),l[s].setSz(100-e.prevPanesSize-e.nextReachedMinPanes-l[u-1].min()-e.nextPanesSize),null}else m>f+1&&oe(l,f+1,m,u=>{u.setSz(u.min()),e.nextReachedMinPanes+=u.min()}),e.nextPanesSize=we(m);return{sums:e,paneBeforeIndex:s,paneAfterIndex:m}}const _e=e=>e.sz(),be=e=>Re(l,0,e,_e),we=e=>Re(l,e+1,l.length,_e),st=e=>[...l].reverse().find(o=>o.index<e&&o.sz()>o.min()),ot=e=>l.find(o=>o.index>e+1&&o.sz()>o.min());async function fe(){q=!0,await ht(),q&&(ye(),q=!1)}function ye(){lt(),N&&M("resized",Y())}function lt(){if(l.length===0)return;const e=l.length;let o=100,f=0,s=0,m=0;const d=[],a=[];for(let R=0;R<e;R++){const b=l[R],F=b.sz();b.givenSize===null?b.isReady?(m+=F,F>=b.max()&&d.push(b),F<=b.min()&&a.push(b)):s+=1:(o-=F,f++,d.push(b),a.push(b))}const u=e-f,v=u-s;let _,x;if(v>0?(_=m/v,_>.1&&o>.1?(m+=s*_,x=o/m):(_=0,x=1)):(_=o/u,x=1),o+m>.1){o=100;for(let R=0;R<e;R++){const b=l[R];if(typeof b.givenSize!="number"){const F=b.isReady?b.sz():_,ie=Math.max(Math.min(F*x,b.max()),b.min());b.setSz(ie)}o-=b.sz()}Math.abs(o)>.1&&(o=rt(o,d,a))}isFinite(o)?Math.abs(o)>.1&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints."):console.warn("Splitpanes: Internal error, sizes might be NaN as a result.")}function rt(e,o,f){const m=l.length-(e>0?o.length:f.length);if(m<=0)return e;const d=e/m;if(l.length===1)l[0].setSz(100),e=0;else for(let a=0;a<l.length;a++){const u=l[a],v=u.sz();if(e>0&&!o.includes(u)){const _=Math.max(Math.min(v+d,u.max()),u.min()),x=_-v;e-=x,u.setSz(_)}else if(!f.includes(u)){const _=Math.max(Math.min(v+d,u.max()),u.min()),x=_-v;e-=x,u.setSz(_)}}return e}function Me(){var s;if(!E)return;const{children:e}=E;let o=0,f=!1;for(let m=0;m<e.length;m++){const d=e.item(m),a=d.classList.contains("splitpanes__pane"),u=d.classList.contains("splitpanes__splitter");if(!a&&!u){(s=d.parentNode)==null||s.removeChild(d),console.warn("Splitpanes: Only <Pane> elements are allowed at the root of <Splitpanes>. One of your DOM nodes was removed.");return}else a&&(!f&&l[o].element!==d&&(f=!0),o++)}if(f){const m=[];for(let d=0;d<e.length;d++){const a=e.item(d);if(a==null?void 0:a.classList.contains("splitpanes__pane")){const v=l.find(_=>_.element===a);v?(v.index=m.length,m.push(v)):console.warn("Splitpanes: Internal error - found a <Pane> elements which isn't tracked.")}}l=m,X(B,r=l.length>0?l[0].key:void 0,r)}}function at(e){qe[e?"unshift":"push"](()=>{E=e,i(5,E)})}return n.$$set=e=>{"id"in e&&i(0,P=e.id),"horizontal"in e&&i(1,h=e.horizontal),"pushOtherPanes"in e&&i(12,z=e.pushOtherPanes),"dblClickSplitter"in e&&i(13,w=e.dblClickSplitter),"rtl"in e&&i(14,I=e.rtl),"firstSplitter"in e&&i(15,V=e.firstSplitter),"style"in e&&i(2,J=e.style),"theme"in e&&i(3,Q=e.theme),"class"in e&&i(4,k=e.class),"$$scope"in e&&i(18,p=e.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&2&&X(L,S=h,S),n.$$.dirty[0]&32768&&X(H,c=V,c)},[P,h,J,Q,k,E,G,K,W,L,H,B,z,w,I,V,y,at,p]}class Et extends Ne{constructor(t){super(),Ae(this,t,vt,gt,Fe,{id:0,horizontal:1,pushOtherPanes:12,dblClickSplitter:13,rtl:14,firstSplitter:15,style:2,theme:3,class:4},null,[-1,-1,-1])}}const _t=(n,t)=>i=>{const r=n();r!==null&&r[t](i)},bt=n=>_t.bind(null,n);function wt(n){let t,i,r,c,S,y,p=(n[4]!==n[9]||n[5])&&Ie(n);const P=n[20].default,h=Be(P,n,n[19],null);return{c(){p&&p.c(),t=Le(),i=he("div"),h&&h.c(),this.h()},l(z){p&&p.l(z),t=Oe(z),i=pe(z,"DIV",{class:!0,style:!0});var w=Se(i);h&&h.l(w),w.forEach(T),this.h()},h(){D(i,"class",r=`splitpanes__pane ${n[0]||""}`),D(i,"style",n[3])},m(z,w){p&&p.m(z,w),ee(z,t,w),ee(z,i,w),h&&h.m(i,null),n[21](i),c=!0,S||(y=$(i,"click",n[11]("onPaneClick")),S=!0)},p(z,w){z[4]!==z[9]||z[5]?p?p.p(z,w):(p=Ie(z),p.c(),p.m(t.parentNode,t)):p&&(p.d(1),p=null),h&&h.p&&(!c||w&524288)&&Te(h,P,z,z[19],c?Ge(P,z[19],w,null):Ve(z[19]),null),(!c||w&1&&r!==(r=`splitpanes__pane ${z[0]||""}`))&&D(i,"class",r),(!c||w&8)&&D(i,"style",z[3])},i(z){c||(le(h,z),c=!0)},o(z){re(h,z),c=!1},d(z){z&&(T(t),T(i)),p&&p.d(z),h&&h.d(z),n[21](null),S=!1,y()}}}function Ie(n){let t,i,r,c;return{c(){t=he("div"),this.h()},l(S){t=pe(S,"DIV",{class:!0}),Se(t).forEach(T),this.h()},h(){D(t,"class",i="splitpanes__splitter "+(n[2]?"splitpanes__splitter__active":""))},m(S,y){ee(S,t,y),r||(c=[$(t,"mousedown",n[11]("onSplitterDown")),$(t,"touchstart",n[11]("onSplitterDown")),$(t,"click",n[11]("onSplitterClick")),$(t,"dblclick",n[11]("onSplitterDblClick"))],r=!0)},p(S,y){y&4&&i!==(i="splitpanes__splitter "+(S[2]?"splitpanes__splitter__active":""))&&D(t,"class",i)},d(S){S&&T(t),r=!1,St(c)}}}function yt(n){let t,i,r=!n[10]&&wt(n);return{c(){r&&r.c(),t=ke()},l(c){r&&r.l(c),t=ke()},m(c,S){r&&r.m(c,S),ee(c,t,S),i=!0},p(c,[S]){c[10]||r.p(c,S)},i(c){i||(le(r),i=!0)},o(c){re(r),i=!1},d(c){c&&T(t),r&&r.d(c)}}}function Mt(n,t,i){let r,c,S,y,p,{$$slots:P={},$$scope:h}=t;const{ssrRegisterPaneSize:z,onPaneInit:w,clientOnly:I,isHorizontal:V,showFirstSplitter:J,veryFirstPaneKey:Q}=pt(Ue);Z(n,V,g=>i(18,S=g)),Z(n,J,g=>i(5,p=g)),Z(n,Q,g=>i(4,y=g));let{size:k=null}=t,{minSize:M=0}=t,{maxSize:E=100}=t,{snapSize:N=0}=t,{class:q=""}=t;const G={},K=!je,{undefinedPaneInitSize:W}=w(G);let A,C=k??W,j=!1,l;const L=bt(()=>l),H=g=>{g!==C&&L("reportGivenSizeChange")(g)};Ke(()=>{const g={index:0,key:G,element:A,givenSize:k,sz:()=>C,setSz:U=>{i(16,C=U),typeof k=="number"&&k!==C&&i(12,k=C)},min:()=>M,max:()=>E,snap:()=>N,setSplitterActive:U=>{i(2,j=U)},isReady:!1};l=I==null?void 0:I.onPaneAdd(g)}),We(()=>{I==null||I.onPaneRemove(G)});function B(g){qe[g?"unshift":"push"](()=>{A=g,i(1,A)})}return n.$$set=g=>{"size"in g&&i(12,k=g.size),"minSize"in g&&i(13,M=g.minSize),"maxSize"in g&&i(14,E=g.maxSize),"snapSize"in g&&i(15,N=g.snapSize),"class"in g&&i(0,q=g.class),"$$scope"in g&&i(19,h=g.$$scope)},n.$$.update=()=>{n.$$.dirty&4096&&typeof k=="number"&&H(k),n.$$.dirty&262144&&i(17,r=He(S)),n.$$.dirty&196608&&i(3,c=`${r}: ${C}%;`)},[q,A,j,c,y,p,V,J,Q,G,K,L,k,M,E,N,C,r,S,h,P,B]}class Ct extends Ne{constructor(t){super(),Ae(this,t,Mt,yt,Fe,{size:12,minSize:13,maxSize:14,snapSize:15,class:0})}}export{Ct as P,Et as S};
